(function(t){function e(e){for(var i,a,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={"main-form":0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([2,"chunk-vendors","chunk-common"]),n()})({"0a29":function(t,e,n){"use strict";var i=n("9a6c"),o=n.n(i);o.a},"0bd3":function(t,e,n){"use strict";var i=n("a298"),o=n.n(i);o.a},"0f41":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("draggable",{staticClass:"content__content",attrs:{options:t.dragOptions},model:{value:t.blocks,callback:function(e){t.blocks=e},expression:"blocks"}},[n("transition-group",{attrs:{name:"draggable_list",tag:"div"}},t._l(t.blocks,(function(e,i){return n("div",{key:e.id,staticClass:"content__item"},[n("a17-block",{attrs:{block:e,index:i,size:t.blockSize,opened:t.opened},on:{open:t.setOpened}},[t.hasRemainingBlocks?n("a17-button",{attrs:{slot:"block-actions",variant:"icon","data-action":""},on:{click:function(e){return t.duplicateBlock(i)}},slot:"block-actions"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]):t._e(),n("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[n("button",{attrs:{type:"button"},on:{click:function(e){return t.collapseAllBlocks()}}},[t._v("Collapse All")]),n("button",{attrs:{type:"button"},on:{click:function(e){return t.deleteBlock(i)}}},[t._v("Delete")]),t.hasRemainingBlocks?n("button",{attrs:{type:"button"},on:{click:function(e){return t.duplicateBlock(i)}}},[t._v("Duplicate")]):t._e()])],1)],1)})),0)],1),n("div",{staticClass:"content__trigger"},[t._l(t.blockTypes,(function(e,i){return n("div",{key:i,staticClass:"content__button_add"},[t.hasRemainingBlocks&&e.trigger?n("a17-button",{class:t.triggerClass,attrs:{variant:t.triggerVariant,size:t.triggerSize},on:{click:function(n){return t.addBlock(e.type,e.type)}}},[t._v(t._s(e.trigger))]):t._e()],1)})),n("div",{staticClass:"content__note f--note f--small"},[t._t("default")],2)],2)],1)},o=[],r=n("2f62"),a=n("0429"),s=n("1980"),c=n.n(s),l=n("5420"),u=n("ecec");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={name:"A17RepeaterArray",components:{"a17-block":u["default"],draggable:c.a},mixins:[l["a"]],props:{types:{type:Array,required:!0},name:{type:String,required:!0}},data:function(){return{opened:!0,handle:".block__handle"}},computed:p({triggerVariant:function(){return this.inContentEditor?"aslink":"action"},triggerSize:function(){return this.inContentEditor?"small":""},triggerClass:function(){return this.inContentEditor?"content__button":""},blockSize:function(){return this.inContentEditor?"small":""},inContentEditor:function(){return"undefined"!==typeof this.$parent.repeaterName},hasRemainingBlocks:function(){return!0},blockTypes:function(){var t=[],e=this.availableBlocks;return this.types.forEach((function(n,i){t.push(e[n]),t[i].type=n})),t},blocks:{get:function(){return this.savedBlocks.hasOwnProperty(this.name)&&this.savedBlocks[this.name]||[]},set:function(t){this.$store.commit(a["f"].REORDER_FORM_BLOCKS,{type:this.type,name:this.name,blocks:t})}}},Object(r["c"])({savedBlocks:function(t){return t.repeaters.repeaters},availableBlocks:function(t){return t.repeaters.availableRepeaters}})),methods:{setOpened:function(t){this.opened=t},addBlock:function(t,e){this.opened=!0,this.$store.commit(a["f"].ADD_FORM_BLOCK,{type:t,name:this.name})},duplicateBlock:function(t){this.opened=!0,this.$store.commit(a["f"].DUPLICATE_FORM_BLOCK,{type:this.type,name:this.name,index:t})},deleteBlock:function(t){this.$store.commit(a["f"].DELETE_FORM_BLOCK,{type:this.type,name:this.name,index:t})},collapseAllBlocks:function(){this.opened=!1}},mounted:function(){var t=this;this.$nextTick((function(){t.savedBlocks.length>0&&t.collapseAllBlocks()}))}},h=v,b=(n("6d4c"),n("2877")),m=Object(b["a"])(h,i,o,!1,null,"8c3674d2",null);e["default"]=m.exports},"109f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block__body"},[n("a17-wysiwyg-tiptap",{attrs:{name:t.fieldName("html"),label:"Body",options:{modules:{toolbar:["table"],syntax:!1}},placeholder:"Insert your table",editSource:"true",inStore:"value"}})],1)},o=[],r=n("f0f8"),a={name:"A17Bodytable",mixins:[r["a"]]},s=a,c=n("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null);e["default"]=l.exports},1322:function(t,e,n){},1591:function(t,e,n){var i={"./RepeaterArray.vue":"0f41"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="1591"},2:function(t,e,n){t.exports=n("f618")},"25a5":function(t,e,n){},"25ba":function(t,e,n){},"266f":function(t,e,n){},2741:function(t,e,n){},2774:function(t,e,n){"use strict";var i=n("e689"),o=n.n(i);o.a},"2d34":function(t,e,n){"use strict";var i=n("e718"),o=n.n(i);o.a},"2f7f":function(t,e,n){"use strict";var i=n("3d14"),o=n.n(i);o.a},"33d8":function(t,e,n){"use strict";var i=n("5886"),o=n.n(i);o.a},3565:function(t,e,n){"use strict";var i=n("d43d"),o=n.n(i);o.a},"3a97":function(t,e,n){},"3d14":function(t,e,n){},"3f1c":function(t,e,n){},"3fee":function(t,e,n){"use strict";var i=n("3f1c"),o=n.n(i);o.a},"548b":function(t,e,n){},5886:function(t,e,n){},6119:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"hotspot__info"}},[t.showDeleteModal?n("div",{attrs:{id:"delete__modal"},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.showDeleteModal=!1}}},[n("div",{attrs:{id:"delete__modal__content"}},[n("p",[t._v("This action cannot be undo.")]),n("p",[t._v("Are you sure?")]),n("div",{staticClass:"btn__group"},[n("button",{staticClass:"btn",staticStyle:{"margin-right":"10px"},on:{click:function(e){t.showDeleteModal=!1}}},[t._v("Cancel")]),n("button",{staticClass:"delete__btn btn",on:{click:t.onDeleteConfirm}},[t._v("Confirm")])])])]):t._e(),n("svg",{attrs:{id:"close__btn",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},on:{click:t.onCloseBtnClick}},[n("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),n("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})]),t._t("default"),n("button",{staticClass:"btn delete__btn",on:{click:function(e){t.showDeleteModal=!0}}},[t._v(" Delete this hotspot ")])],2)},o=[],r={data:function(){return{showDeleteModal:!1}},methods:{onCloseBtnClick:function(){this.$emit("close")},onDeleteConfirm:function(){this.showDeleteModal=!1,this.$emit("delete")}}},a=r,s=(n("d453"),n("2877")),c=Object(s["a"])(a,i,o,!1,null,"1a30b4da",null);e["default"]=c.exports},"611f":function(t,e,n){"use strict";var i=n("7de1"),o=n.n(i);o.a},"62c8":function(t,e,n){"use strict";var i=n("a8c7"),o=n.n(i);o.a},6536:function(t,e,n){},"6b23":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block__body"},[n("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:"Title",name:t.fieldName("text"),type:"text",maxlength:250,inStore:"value"}}})],1)},o=[],r=n("f0f8"),a={name:"A17Title",mixins:[r["a"]]},s=a,c=n("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null);e["default"]=l.exports},"6b9b":function(t,e,n){"use strict";var i=n("c830"),o=n.n(i);o.a},"6d07":function(t,e,n){},"6d3f":function(t,e,n){"use strict";var i=n("266f"),o=n.n(i);o.a},"6d4c":function(t,e,n){"use strict";var i=n("6d07"),o=n.n(i);o.a},"6f7b":function(t,e,n){"use strict";var i=n("9a66"),o=n.n(i);o.a},"77a8":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"vue-hotspots__container"}},[n("div",{attrs:{id:"app__overlay"},on:{click:function(e){return e.target!==e.currentTarget?null:t.addHotspot(e)},mouseup:t.dragStop}},t._l(t.hotspots,(function(e){return n("Hotspot",{key:e.id,style:{left:e.x+"%",top:e.y+"%"},attrs:{data:e,currentHotspot:t.currentHotspot},on:{mousedown:function(n){return t.dragStart(e)},open:t.openHotspotInfo}})})),1),t.showHotspotInfo?n("HotspotInfo",{on:{close:t.closeHotspotInfo,delete:t.deleteHotspot}},[t._t("form",null,{currentHotspot:t.currentHotspot})],2):t._e(),t._t("default")],2)},o=[],r=n("3c21"),a=n.n(r),s=n("a72d"),c=n("6119");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"A17VueHotspots",components:{Hotspot:s["default"],HotspotInfo:c["default"]},data:function(){return{isDragging:!1,showHotspotInfo:!1}},props:{hotspots:{type:Array},draggable:{type:Boolean,default:!0},model:{type:Object},currentHotspot:{type:Object}},mounted:function(){window.addEventListener("mouseup",this.dragStop),window.addEventListener("mousemove",this.dragging)},methods:{addHotspot:function(t){var e=u(u({id:a.a.generate()},this.getMousePos(t)),this.model);console.log(">>> BIH: Added HOTSPOT MUBS"),console.log(e),this.$emit("update:currentHotspot",e),this.$emit("handleAddHotspot",e)},dragStart:function(t){this.isDragging=!0,console.log("Dragstart"),console.log(this.isDragging),console.log(this.draggable),console.log(t),this.$emit("update:currentHotspot",t)},dragging:function(t){this.isDragging&&this.draggable&&(console.log("dragging"),this.$emit("handleUpdateHotspot",this.currentHotspot.id,this.getMousePos(t)))},dragStop:function(){this.isDragging&&(console.log("Dragstop"),this.isDragging=!1)},deleteHotspot:function(){var t=this;this.showHotspotInfo=!1,this.hotspots=this.hotspots.filter((function(e){return e.id!==t.currentHotspot.id})),this.$emit("update:currentHotspot",null)},getMousePos:function(t){var e=this.$el.getBoundingClientRect(),n=(t.clientX-e.left)/e.width*100,i=(t.clientY-e.top)/e.height*100;return{x:n<0?0:n>100?100:n,y:i<0?0:i>100?100:i}},openHotspotInfo:function(t){this.showHotspotInfo=!0,this.$emit("update:currentHotspot",t)},closeHotspotInfo:function(){this.showHotspotInfo=!1,this.$emit("update:currentHotspot",null)}},watch:{}},f=p,v=(n("0a29"),n("2877")),h=Object(v["a"])(f,i,o,!1,null,"3a1db7c4",null);e["default"]=h.exports},"7de1":function(t,e,n){},"7ebf":function(t,e,n){"use strict";var i=n("faa7"),o=n.n(i);o.a},"80d1":function(t,e,n){},"912f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block__body"},[n("a17-wysiwyg",{attrs:{name:t.fieldName("html"),inStore:"value"}})],1)},o=[],r=n("f0f8"),a={name:"A17Bodytext",mixins:[r["a"]]},s=a,c=n("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null);e["default"]=l.exports},9748:function(t,e,n){var i={"./Block.vue":"ecec","./BlockImage.vue":"ac09","./BlockTable.vue":"109f","./BlockTitle.vue":"6b23","./BlockWysiwyg.vue":"912f","./customs/A17VueHotspots.vue":"77a8","./customs/BlockHotspots.vue":"b3d7","./customs/BlockImageHotspots.vue":"c445","./customs/components/Hotspot.vue":"a72d","./customs/components/HotspotInfo.vue":"6119"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="9748"},9881:function(t,e,n){"use strict";var i=n("f3e7"),o=n.n(i);o.a},"98a8":function(t,e,n){},9922:function(t,e,n){"use strict";var i=n("98a8"),o=n.n(i);o.a},"9a66":function(t,e,n){},"9a6c":function(t,e,n){},a298:function(t,e,n){},a70b:function(t,e,n){"use strict";var i=n("548b"),o=n.n(i);o.a},a72d:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hotspot",class:{"hotspot--current":t.hotspotIsCurrent},on:{mousedown:function(e){return e.stopPropagation(),e.target!==e.currentTarget?null:t.$emit("mousedown")}}})},o=[],r={props:{currentHotspot:{type:Object},data:{type:Object,required:!0}},computed:{hotspotIsCurrent:function(){return!(!this.currentHotspot||this.currentHotspot.id!==this.data.id)}},methods:{}},a=r,s=(n("6d3f"),n("2877")),c=Object(s["a"])(a,i,o,!1,null,"0ba31c3f",null);e["default"]=c.exports},a8c7:function(t,e,n){},abb2:function(t,e,n){"use strict";var i=n("6536"),o=n.n(i);o.a},ac09:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block__body"},[n("a17-inputframe",{attrs:{label:"Image",name:"medias.image"}},[n("a17-mediafield",{attrs:{name:t.fieldName("image"),"crop-context":"image"}})],1)],1)},o=[],r=n("f0f8"),a={name:"A17Image",mixins:[r["a"]]},s=a,c=n("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null);e["default"]=l.exports},ac28:function(t,e,n){},af57:function(t,e,n){"use strict";var i=n("25a5"),o=n.n(i);o.a},b0c8:function(t,e,n){"use strict";var i=n("80d1"),o=n.n(i);o.a},b3d7:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("A17VueHotspots",{ref:"vueHotspots",attrs:{model:t.hotspotModel,currentHotspot:t.currentHotspot},on:{"update:currentHotspot":function(e){t.currentHotspot=e},"update:current-hotspot":function(e){t.currentHotspot=e}},scopedSlots:t._u([{key:"form",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)},[n("img",{attrs:{src:t.imageUrl,width:"600"}})])},o=[],r=n("2f62"),a=n("77a8");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={components:{A17VueHotspots:a["default"]},mounted:function(){var t=this;this.updateImage(),this.$store.subscribe((function(e,n){console.log("subscribed event?"),console.log(e,n),"saveSelectedItems"===e.type&&(t.currentHotspot.browserItems=e.payload)}))},data:function(){return{media:null,currentHotspot:null,hotspotModel:{hotspotTitle:null}}},computed:c({imageUrl:function(){return this.media?this.media["medium"]:""}},Object(r["c"])({selectedMedias:function(t){return t.mediaLibrary.selected}})),watch:{selectedMedias:{handler:function(){this.updateImage()},deep:!0},currentHotspot:function(){console.log("watch: currentHotspot"),console.log(this.currentHotspot),this.currentHotspot&&this.currentHotspot.hasOwnProperty("hotspotTitle")&&this.currentHotspot.hotspotTitle&&(console.log("currentHotspot commit"),this.$store.commit("updateFormField",{name:"hotspot_title",items:this.currentHotspot.hotspotTitle}))}},methods:{updateImage:function(){for(var t in this.selectedMedias)"hotspots_image"===t&&(this.media=this.selectedMedias[t][0])}}},d=u,p=(n("abb2"),n("2877")),f=Object(p["a"])(d,i,o,!1,null,"4b0c7499",null);e["default"]=f.exports},b62f:function(t,e,n){"use strict";var i=n("1322"),o=n.n(i);o.a},ba98:function(t,e,n){},c445:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("A17VueHotspots",{ref:"vueHotspots",attrs:{model:t.hotspotModel,hotspots:t.hotspots,currentHotspot:t.currentHotspot},on:{"update:currentHotspot":function(e){t.currentHotspot=e},"update:current-hotspot":function(e){t.currentHotspot=e},handleAddHotspot:t.addHotspot,handleUpdateHotspot:t.updateHotspot}},[n("img",{attrs:{src:t.imageUrl,width:"600"}})]),t.currentHotspot?n("div",["slide"===t.type?[n("a17-textfield",{attrs:{label:"Text",name:"text","initial-value":t.currentHotspot.text},on:{change:function(e){return t.changeCurrentHotspot({text:e})}}}),n("a17-textfield",{attrs:{label:"CTA Label",name:"cta_label","initial-value":t.currentHotspot.cta_label},on:{change:function(e){return t.changeCurrentHotspot({cta_label:e})}}}),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Detail page ")]),n("div",{staticClass:"vselect vselect--single vselect--large"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentHotspot.detail_page_id,expression:"currentHotspot.detail_page_id"}],staticClass:"vselect_field",attrs:{name:t.detail_page_id},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentHotspot,"detail_page_id",e.target.multiple?n:n[0])},function(e){return t.changeCurrentHotspot({detail_page_id:e.target.value})}]}},[n("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.pages,(function(e,i){return n("option",{key:i,domProps:{value:e.value,selected:t.currentHotspot.detail_page_id,innerHTML:t._s(e.label)}})}))],2)])])]:t._e(),"other-info"===t.type?[n("a17-textfield",{attrs:{label:"Title",name:"title","initial-value":t.currentHotspot.title},on:{change:function(e){return t.changeCurrentHotspot({title:e})}}}),n("a17-textfield",{attrs:{label:"Text",name:"text",type:"textarea","initial-value":t.currentHotspot.text},on:{change:function(e){return t.changeCurrentHotspot({text:e})}}}),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Icon under title ")]),n("div",{staticClass:"vselect vselect--single vselect--large"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentHotspot.icon_id,expression:"currentHotspot.icon_id"}],staticClass:"vselect_field",attrs:{name:t.icon_id},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentHotspot,"icon_id",e.target.multiple?n:n[0])},function(e){return t.changeCurrentHotspot({icon_id:e.target.value})}]}},[n("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.icons,(function(e,i){return n("option",{key:i,domProps:{value:e.value,selected:t.currentHotspot.icon_id,innerHTML:t._s(e.label)}})}))],2)])])]:t._e(),"group-item"===t.type?[n("a17-textfield",{attrs:{label:"Text",name:"text","initial-value":t.currentHotspot.text},on:{change:function(e){return t.changeCurrentHotspot({text:e})}}}),n("a17-textfield",{attrs:{label:"CTA Label",name:"cta_label","initial-value":t.currentHotspot.cta_label},on:{change:function(e){return t.changeCurrentHotspot({cta_label:e})}}}),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Detail page ")]),n("div",{staticClass:"vselect vselect--single vselect--large"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentHotspot.detail_page_id,expression:"currentHotspot.detail_page_id"}],staticClass:"vselect_field",attrs:{name:t.detail_page_id},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentHotspot,"detail_page_id",e.target.multiple?n:n[0])},function(e){return t.changeCurrentHotspot({detail_page_id:e.target.value})}]}},[n("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.pages,(function(e,i){return n("option",{key:i,domProps:{value:e.value,selected:t.currentHotspot.detail_page_id,innerHTML:t._s(e.label)}})}))],2)])]),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Tag ")]),n("div",{staticClass:"vselect vselect--single vselect--large"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentHotspot.tag_id,expression:"currentHotspot.tag_id"}],staticClass:"vselect_field",attrs:{name:t.tag_id},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentHotspot,"tag_id",e.target.multiple?n:n[0])},function(e){return t.changeCurrentHotspot({tag_id:e.target.value})}]}},[n("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.tags,(function(e,i){return n("option",{key:i,domProps:{value:e.value,selected:t.currentHotspot.tag_id,innerHTML:t._s(e.label)}})}))],2)])]),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Icon ")]),n("div",{staticClass:"vselect vselect--single vselect--large"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentHotspot.icon_id,expression:"currentHotspot.icon_id"}],staticClass:"vselect_field",attrs:{name:t.icon_id},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentHotspot,"icon_id",e.target.multiple?n:n[0])},function(e){return t.changeCurrentHotspot({icon_id:e.target.value})}]}},[n("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.icons,(function(e,i){return n("option",{key:i,domProps:{value:e.value,selected:t.currentHotspot.icon_id,innerHTML:t._s(e.label)}})}))],2)])])]:t._e(),"virtual-exhibit-media-hotspot-page"===t.type?[n("a17-textfield",{attrs:{label:"Title",name:"title","initial-value":t.currentHotspot.title},on:{change:function(e){return t.changeCurrentHotspot({title:e})}}}),n("a17-textfield",{attrs:{label:"Text",name:"text","initial-value":t.currentHotspot.text},on:{change:function(e){return t.changeCurrentHotspot({text:e})}}}),n("a17-textfield",{attrs:{label:"CTA Label",name:"cta_label","initial-value":t.currentHotspot.cta_label},on:{change:function(e){return t.changeCurrentHotspot({cta_label:e})}}}),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Page ")]),n("div",{staticClass:"vselect vselect--single vselect--large"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentHotspot.detail_page_id,expression:"currentHotspot.detail_page_id"}],staticClass:"vselect_field",attrs:{name:t.detail_page_id},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentHotspot,"detail_page_id",e.target.multiple?n:n[0])},function(e){return t.changeCurrentHotspot({detail_page_id:e.target.value})}]}},[n("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.pages,(function(e,i){return n("option",{key:i,domProps:{value:e.value,selected:t.currentHotspot.detail_page_id,innerHTML:t._s(e.label)}})}))],2)])])]:t._e(),"virtual-exhibit-pollist-hotspot-page"===t.type?[n("a17-textfield",{attrs:{label:"Title",name:"title","initial-value":t.currentHotspot.title},on:{change:function(e){return t.changeCurrentHotspot({title:e})}}}),n("a17-textfield",{attrs:{label:"Text",name:"text",type:"textarea","initial-value":t.currentHotspot.text},on:{change:function(e){return t.changeCurrentHotspot({text:e})}}}),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Icon ")]),n("div",{staticClass:"vselect vselect--single vselect--large"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentHotspot.icon_id,expression:"currentHotspot.icon_id"}],staticClass:"vselect_field",attrs:{name:t.icon_id},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentHotspot,"icon_id",e.target.multiple?n:n[0])},function(e){return t.changeCurrentHotspot({icon_id:e.target.value})}]}},[n("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.icons,(function(e,i){return n("option",{key:i,domProps:{value:e.value,selected:t.currentHotspot.icon_id,innerHTML:t._s(e.label)}})}))],2)])]),n("a17-inputframe",[n("label",{staticClass:"input__label"},[t._v(" Links ")]),n("ul",{staticClass:"links"},t._l(t.currentHotspot.links,(function(e,i){return n("li",{staticClass:"link"},[n("span",{staticClass:"link-input"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.detail_page_id,expression:"link.detail_page_id"}],staticClass:"vselect_field",attrs:{name:t.detail_page_id},on:{change:[function(n){var i=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"detail_page_id",n.target.multiple?i:i[0])},function(e){return t.changeCurrentHotspot({links:t.currentHotspot.links})}]}},[n("option",{attrs:{value:""}},[t._v("Select page")]),t._l(t.pages,(function(i,o){return n("option",{key:o,domProps:{value:i.value,selected:e.detail_page_id,innerHTML:t._s(i.label)}})}))],2)]),n("span",{staticClass:"link-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.cta_label,expression:"link.cta_label"}],attrs:{type:"text",name:"cta_label",placeholder:"CTA Label"},domProps:{value:e.cta_label},on:{change:function(e){return t.changeCurrentHotspot({links:t.currentHotspot.links})},input:function(n){n.target.composing||t.$set(e,"cta_label",n.target.value)}}}),t._v(" "),n("label",{attrs:{for:""}})]),n("span",{staticClass:"link-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.show_divider,expression:"link.show_divider"}],attrs:{type:"checkbox",name:"show_divider",value:"1"},domProps:{checked:Array.isArray(e.show_divider)?t._i(e.show_divider,"1")>-1:e.show_divider},on:{change:[function(n){var i=e.show_divider,o=n.target,r=!!o.checked;if(Array.isArray(i)){var a="1",s=t._i(i,a);o.checked?s<0&&t.$set(e,"show_divider",i.concat([a])):s>-1&&t.$set(e,"show_divider",i.slice(0,s).concat(i.slice(s+1)))}else t.$set(e,"show_divider",r)},function(e){return t.changeCurrentHotspot({links:t.currentHotspot.links})}]}}),t._v(" "),n("label",{attrs:{for:""}},[t._v("Show divider?")])]),n("span",{staticClass:"link-input"},[n("button",{on:{click:function(e){return t.deleteRow(i)}}},[t._v("Delete link")])])])})),0),n("div",{staticClass:"links-buttons"},[n("button",{on:{click:t.addRow}},[t._v("Add link")])])])]:t._e(),n("a17-inputframe",[n("a17-button",{attrs:{variant:"secondary","data-action":""},on:{click:t.deleteHotspot}},[t._v("Delete")])],1),n("a17-inputframe",[n("a17-textfield",{attrs:{label:"X Pos",name:"x","initial-value":t.currentHotspot.x,readonly:"true"}}),n("a17-textfield",{attrs:{label:"Y Pos",name:"y","initial-value":t.currentHotspot.y,readonly:"true"}})],1)],2):t._e()],1)},o=[],r=(n("67ff"),n("0429")),a=n("2f62"),s=(n("3c21"),n("77a8"));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={components:{A17VueHotspots:s["default"]},props:["imagenamefield","datanamefield","hotspotsdata","pagelist","taglist","iconlist","type"],mounted:function(){var t=this;if(this.updateImage(),this.hotspotsdata)this.hotspots=this.hotspotsdata;else{var e=this.$store.state.form.fields.find((function(e){return e.name==t.datanamefield}));e&&e.value&&""!==e.value&&(this.hotspots=Array.isArray(e.value)?e.value:JSON.parse(e.value))}console.log("Pages:",this.pagelist),this.pagelist&&(this.pages=this.pagelist,console.log("Pages: ",this.pages)),this.taglist&&(this.tags=this.taglist),console.log("Icon List:",this.iconlist),this.iconlist&&(this.icons=this.iconlist,console.log("Icons: ",this.icons)),this.$store.subscribe((function(e,n){"saveSelectedItems"===e.type&&(t.currentHotspot.browserItems=e.payload)}))},data:function(){return{hotspots:[],pages:[],tags:[],icons:[],media:null,currentHotspot:null,hotspotModel:{title:"",text:"",cta_label:"",detail_page_id:"",tag_id:"",icon_id:"",links:[]}}},computed:l({imageUrl:function(){return this.media?this.media["medium"]:""}},Object(a["c"])({selectedMedias:function(t){return t.mediaLibrary.selected}})),watch:{selectedMedias:{handler:function(){this.updateImage()},deep:!0},hotspots:function(){this.saveHotspots()}},methods:{updateImage:function(){for(var t in this.selectedMedias)t===this.imagenamefield?this.media=this.selectedMedias[t][0]:"image_icon"===t&&this.updateHotspot(this.currentHotspot.id,{image_icon:this.selectedMedias[t][0]})},changeCurrentText:function(t){this.currentHotspot.text=t,this.updateHotspot(this.currentHotspot.id,{text:t})},saveHotspots:function(){var t={name:this.datanamefield,value:this.hotspots};this.$store.commit(r["f"].UPDATE_FORM_FIELD,t)},addHotspot:function(t){this.hotspots=this.hotspots.concat(t)},changeCurrentHotspot:function(t){this.updateHotspot(this.currentHotspot.id,t)},deleteHotspot:function(){var t=this,e=this.hotspots.filter((function(e){if(e.id!==t.currentHotspot.id)return e}));this.hotspots=e,this.currentHotspot=null},updateHotspot:function(t,e){this.hotspots=this.hotspots.map((function(n){return n.id===t?l(l({},n),e):n}))},addRow:function(){this.currentHotspot.links.push({detail_page_id:"",cta_label:"",icon_id:"",show_divider:!1})},deleteRow:function(t){this.currentHotspot.links.splice(t,1)}}},p=d,f=(n("6f7b"),n("2877")),v=Object(f["a"])(p,i,o,!1,null,"4626a59b",null);e["default"]=v.exports},c830:function(t,e,n){},d0e8:function(t,e,n){},d43d:function(t,e,n){},d453:function(t,e,n){"use strict";var i=n("d0e8"),o=n.n(i);o.a},d5be:function(t,e,n){"use strict";var i=n("fdff"),o=n.n(i);o.a},da0c:function(t,e,n){"use strict";var i=n("ac28"),o=n.n(i);o.a},e005:function(t,e,n){"use strict";var i=n("3a97"),o=n.n(i);o.a},e431:function(t,e,n){"use strict";var i=n("ba98"),o=n.n(i);o.a},e689:function(t,e,n){},e718:function(t,e,n){},e8f1:function(t,e,n){"use strict";var i=n("25ba"),o=n.n(i);o.a},ecec:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block",class:t.blockClasses},[n("div",{staticClass:"block__header",on:{dblclick:function(e){return e.preventDefault(),t.toggleExpand()}}},[n("span",{staticClass:"block__handle"}),n("div",{staticClass:"block__toggle"},[t.withMoveDropdown?n("a17-dropdown",{ref:t.moveDropdown,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270}},[n("span",{staticClass:"block__counter f--tiny",on:{click:function(e){return t.$refs[t.moveDropdown].toggle()}}},[t._v(t._s(t.index+1))]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-numbers")],2)]):n("span",{staticClass:"block__counter f--tiny"},[t._v(t._s(t.index+1))]),n("span",{staticClass:"block__title"},[t._v(t._s(t.block.title))])],1),n("div",{staticClass:"block__actions"},[t._t("block-actions"),t.withAddDropdown?n("a17-dropdown",{ref:t.addDropdown,attrs:{position:"bottom-right"},on:{open:function(e){t.hover=!0},close:function(e){t.hover=!1}}},[n("a17-button",{attrs:{variant:"icon","data-action":""},on:{click:function(e){return t.$refs[t.addDropdown].toggle()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-add")],2)],1):t._e(),n("a17-button",{attrs:{variant:"icon","data-action":"","aria-expanded":t.visible?"true":"false"},on:{click:function(e){return t.toggleExpand()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"expand"}})]),n("a17-dropdown",{ref:t.actionsDropdown,attrs:{position:"bottom-right"},on:{open:function(e){t.hover=!0},close:function(e){t.hover=!1}}},[n("a17-button",{attrs:{variant:"icon"},on:{click:function(e){return t.$refs[t.actionsDropdown].toggle()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-action")],2)],1)],2)]),n("div",{staticClass:"block__content",attrs:{"aria-hidden":!t.visible||null}},[n(""+t.block.type,t._b({key:"`form_${block.type}_${block.id}`",tag:"component",attrs:{name:t.componentName(t.block.id)}},"component",t.block.attributes,!1)),n("a17-inputframe",{attrs:{size:"small",label:"",name:"block."+t.block.id}})],1)])},o=[],r=n("4e53"),a={name:"A17Block",props:{index:{type:Number,default:0},opened:{type:Boolean,default:!0},closed:{type:Boolean,default:!1},size:{type:String,default:""},block:{type:Object,default:function(){return{}}}},data:function(){return{visible:!0,hover:!1,withMoveDropdown:!0,withAddDropdown:!0}},filters:r["a"],computed:{blockClasses:function(){return[this.visible?"block--open":"",this.hover?"block--focus":"",this.size?"block--".concat(this.size):""]},moveDropdown:function(){return"moveBlock".concat(this.index,"Dropdown")},actionsDropdown:function(){return"action".concat(this.block.id,"Dropdown")},addDropdown:function(){return"add".concat(this.block.id,"Dropdown")}},watch:{opened:function(){this.opened||(this.visible=!1)},closed:function(){this.closed||(this.visible=!0)}},methods:{toggleExpand:function(){this.visible=!this.visible,this.$emit("expand",this.visible)},componentName:function(t){return"blocks["+t+"]"}},beforeMount:function(){this.$slots["dropdown-numbers"]||(this.withMoveDropdown=!1),this.$slots["dropdown-add"]||(this.withAddDropdown=!1)}},s=a,c=(n("2d34"),n("3fee"),n("2877")),l=Object(c["a"])(s,i,o,!1,null,"751399b0",null);e["default"]=l.exports},f3e7:function(t,e,n){},f618:function(t,e,n){"use strict";n.r(e);var i=n("a026"),o=n("2f62"),r=n("1539"),a=n("0429"),s=n("f1af"),c=n("f99e"),l=n("b171"),u=(n("878a"),n("16f9")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stickyNav"},[n("div",{staticClass:"container"},[n("div",{staticClass:"stickyNav__nav"},[t.navItems.length>1?n("div",{staticClass:"stickyNav__links"},t._l(t.navItems,(function(e,i){return n("a",{key:e.fieldset,class:{"s--on":e.active},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scrollToFieldset(i)}}},[t._v(t._s(e.label))])})),0):t._e(),t._t("title")],2),n("div",{staticClass:"stickyNav__actions"},[t._t("actions")],2)])])},p=[],f=n("b047"),v=n.n(f),h=n("2c83"),b={name:"A17StickyNav",props:{items:{type:Array,default:function(){return[]}}},data:function(){return{lastScrollPos:0,topOffset:70,ticking:!1,navItems:this.items,clickedFieldset:-1,fieldset:[]}},methods:{getFieldsetPosition:function(){var t=this;this.lastScrollPos=window.pageYOffset,this.navItems.forEach((function(e,n){var o=t.fieldset[n],r=o?o.getBoundingClientRect().top+t.lastScrollPos:0;i["a"].set(e,"position",r)}))},setActiveItems:function(){var t=this,e=0;this.navItems.forEach((function(n,o){var r=n.position-t.topOffset<t.lastScrollPos;i["a"].set(n,"active",!1),r&&o>0&&(e=o)})),this.clickedFieldset>=0?i["a"].set(t.navItems[t.clickedFieldset],"active",!0):i["a"].set(t.navItems[e],"active",!0)},refresh:function(){var t=this;t.clickedFieldset=-1,this.getFieldsetPosition(),this.setActiveItems(),t.ticking=!1},_resize:v()((function(){this.lastScrollPos=window.pageYOffset,this.refresh()}),200),_scroll:function(){var t=this;this.lastScrollPos=window.pageYOffset,t.ticking||window.requestAnimationFrame((function(){t.refresh(),t.ticking=!1})),t.ticking=!0},scrollToFieldset:function(t){var e=this,n=this.navItems[t].position-this.topOffset+1;this.dispose(),this.clickedFieldset=t,this.getFieldsetPosition(),this.setActiveItems(),Object(h["a"])({offset:n,easing:"easeOut",onComplete:function(){e.init()}})},init:function(){window.addEventListener("scroll",this._scroll),window.addEventListener("resize",this._resize)},dispose:function(){window.removeEventListener("scroll",this._scroll),window.removeEventListener("resize",this._resize)}},mounted:function(){var t=this;this.navItems.forEach((function(e,n){var i=document.querySelector("#"+e.fieldset);i?t.fieldset.push(i):t.fieldset.push(null)})),this.refresh(),this.init()},beforeDestroy:function(){this.dispose()}},m=b,g=(n("7ebf"),n("2877")),_=Object(g["a"])(m,d,p,!1,null,"1a811cfe",null),w=_.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"titleEditor",class:t.titleEditorClasses},[n("div",{staticClass:"titleEditor__preview"},[n("h2",{staticClass:"titleEditor__title",class:{"titleEditor__title-only":!t.permalink}},[t.editableTitle?n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$refs.editModal.open()}}},[n("span",{staticClass:"f--underlined--o"},[t._v(t._s(t.title))]),t._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"edit"}})]):n("span",[t._v(t._s(t.customTitle?t.customTitle:t.title))])]),!t.permalink&&!t.customPermalink||t.showModal?t._e():n("a",{staticClass:"titleEditor__permalink f--small",attrs:{href:t.fullUrl,target:"_blank"}},[n("span",{staticClass:"f--note f--external f--underlined--o"},[t._v(t._s(t._f("prettierUrl")(t.visibleUrl)))])]),t.showModal?n("span",{staticClass:"titleEditor__permalink f--small f--note f--external f--underlined--o"},[t._v(t._s(t._f("prettierUrl")(t.visibleUrl)))]):t._e(),n("a17-modal",{ref:"editModal",staticClass:"modal--form",attrs:{title:t.modalTitle,forceLock:t.disabled}},[n("a17-langmanager"),n("form",{ref:"modalForm",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.update(e)}}},[t._t("modal-form"),n("a17-modal-validation",{attrs:{mode:t.mode},on:{disable:t.lockModal}})],2)],1)],1),t._t("default")],2)},O=[],k=n("4e53"),P=n("3b37"),C=n("6d94"),E=n("f03e"),j=n("7d9f");function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={name:"A17TitleEditor",mixins:[E["a"],j["a"]],components:{"a17-modal-validation":C["a"],"a17-langmanager":P["a"]},props:{modalTitle:{type:String,default:function(){return this.$trans("modal.update.title")}},warningMessage:{type:String,default:"Missing title"},showModal:{type:Boolean,default:!1},name:{default:"title"},editableTitle:{type:Boolean,default:!0},customTitle:{type:String,default:""},customPermalink:{type:String,default:""}},data:function(){return{disabled:!1}},mounted:function(){this.showModal&&this.$refs.editModal.open()},computed:S(S({titleEditorClasses:function(){return{"titleEditor--error":this.error||this.title===this.warningMessage}},mode:function(){return this.showModal?"done":this.title.length>0?"update":"create"},fullUrl:function(){return this.customPermalink||this.baseUrl.replace("{language}",this.currentLocale.value).replace("{preview}/",this.published?"":"admin-preview/")+this.permalink},visibleUrl:function(){return this.customPermalink||this.baseUrl.replace("{language}",this.currentLocale.value).replace("{preview}/","")+this.permalink},title:function(){var t=this.fieldValueByName(this.name)?this.fieldValueByName(this.name):"",e="string"===typeof t?t:t[this.currentLocale.value];return e||this.warningMessage},permalink:function(){return this.fieldValueByName("slug")[this.currentLocale.value]}},Object(o["c"])({baseUrl:function(t){return t.form.baseUrl},currentLocale:function(t){return t.language.active},languages:function(t){return t.language.all},fields:function(t){return t.form.fields},published:function(t){return t.publication.published}})),Object(o["b"])(["fieldValueByName"])),filters:k["a"],methods:{update:function(){this.$refs.editModal.hide()},lockModal:function(t){this.disabled=t}}},T=x,L=(n("33d8"),Object(g["a"])(T,y,O,!1,null,"4e050f8e",null)),B=L.exports,A=n("4168"),I=n("75fb"),H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"publisher__wrapper"},[t.withPublicationToggle?n("a17-switcher",{attrs:{title:t.$trans("publisher.switcher-title","Status"),name:"publish_state",textEnabled:t.textEnabled,textDisabled:t.textDisabled}}):t._e(),t._t("default"),t.reviewProcess&&t.reviewProcess.length?n("a17-reviewaccordion",{attrs:{options:t.reviewProcess,name:"review_process",value:t.reviewProcessCompleteValues,open:t.openStates["A17Reviewaccordion"]},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.review-status")))]):t._e(),t.visibility&&t.visibilityOptions&&t.visibilityOptions.length?n("a17-radioaccordion",{attrs:{radios:t.visibilityOptions,name:"visibility",value:t.visibility,open:t.openStates["A17Radioaccordion"]},on:{open:t.openCloseAccordion,change:t.updateVisibility}},[t._v(t._s(t.$trans("publisher.visibility")))]):t._e(),t.languages&&t.showLanguages&&t.languages.length>1?n("a17-checkboxaccordion",{attrs:{options:t.languages,name:"active_languages",value:t.publishedLanguagesValues,open:t.openStates["A17Checkboxaccordion"]},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.languages")))]):t._e(),t.withPublicationTimeframe?n("a17-pubaccordion",{attrs:{"date-display-format":t.dateDisplayFormat,"date-format":t.dateFormat,date_24h:t.date_24h,open:t.openStates["A17Pubaccordion"]},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.published-on")))]):t._e(),t.revisions.length?n("a17-revaccordion",{attrs:{open:t.openStates["A17Revisions"],revisions:t.revisions},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.revisions")))]):t._e(),t.parents.length?n("a17-parentaccordion",{attrs:{open:t.openStates["A17Parents"],parents:t.parents,value:t.parentId},on:{open:t.openCloseAccordion}},[t._v(t._s(t.$trans("publisher.parent-page")))]):t._e(),t.revisions.length?n("div",{staticClass:"publisher__item"},[n("a",{staticClass:"publisher__link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openPreview(e)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"preview"}}),n("span",{staticClass:"f--link-underlined--o"},[t._v(t._s(t.$trans("publisher.preview")))])])]):t._e(),n("div",{staticClass:"publisher__item publisher__item--btns"},[n("a17-multibutton",{attrs:{options:t.submitOptions,type:"submit",message:t.submitDisableMessage},on:{"button-clicked":t.buttonClicked}})],1)],2)},R=[],M=n("2569"),V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"switcher",class:t.switcherClasses},[n("h4",{staticClass:"switcher__title"},[t._v(t._s(t.title))]),n("label",{staticClass:"switcher__button",attrs:{for:t.name+"_live"}},[t.isChecked?n("span",{staticClass:"switcher__label"},[t._v(t._s(t.formatTextEnabled))]):t._e(),t.isChecked?t._e():n("span",{staticClass:"switcher__label"},[t._v(t._s(t.formatTextDisabled))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValue,expression:"checkedValue"}],attrs:{type:"checkbox",disabled:t.disabled,name:t.name,id:t.name+"_live",value:"live"},domProps:{checked:Array.isArray(t.checkedValue)?t._i(t.checkedValue,"live")>-1:t.checkedValue},on:{change:function(e){var n=t.checkedValue,i=e.target,o=!!i.checked;if(Array.isArray(n)){var r="live",a=t._i(n,r);i.checked?a<0&&(t.checkedValue=n.concat([r])):a>-1&&(t.checkedValue=n.slice(0,a).concat(n.slice(a+1)))}else t.checkedValue=o}}}),n("span",{staticClass:"switcher__switcher"})])])},N=[],U=n("0d3e"),F=n.n(U);function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q={name:"A17Toggle",props:{name:{type:String,default:""},title:{default:"Status"},disabled:{type:Boolean,default:!1},textEnabled:{type:String,default:"Live"},textDisabled:{type:String,default:"Draft"},textExpired:{type:String,default:"Expired"},textScheduled:{type:String,default:"Scheduled"}},filters:k["a"],computed:W({switcherClasses:function(){return[this.isChecked?"switcher--active":"",this.formatTextEnabled?"switcher--".concat(this.$options.filters.lowercase(this.formatTextEnabled)):""]},isChecked:function(){return this.published},formatTextEnabled:function(){var t=F()(this.startDate,new Date),e=F()(this.endDate,new Date);return this.endDate&&e<0?this.textExpired:this.startDate&&t>0?this.textScheduled:this.textEnabled},formatTextDisabled:function(){return this.textDisabled},checkedValue:{get:function(){return this.published},set:function(t){this.$store.commit(a["m"].UPDATE_PUBLISH_STATE,t),this.$emit("change",t)}}},Object(o["c"])({startDate:function(t){return t.publication.startDate},endDate:function(t){return t.publication.endDate},published:function(t){return t.publication.published}}))},G=q,Y=(n("9922"),Object(g["a"])(G,V,N,!1,null,"2e81738b",null)),J=Y.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.currentLabel))]),n("a17-radiogroup",{attrs:{name:t.name,radios:t.radios,initialValue:t.currentValue},on:{change:t.changeValue}})],1)},Z=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accordion",class:t.visibilityClasses},[n("button",{staticClass:"accordion__trigger",attrs:{type:"button","aria-expanded":t.visible?"true":"false"},on:{click:t.onClickVisibility}},[t._t("accordion__title"),n("span",{staticClass:"accordion__value"},[t._t("accordion__value")],2),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})],2),n("transition",{attrs:{css:!1,duration:275},on:{"before-enter":t.beforeEnter,"before-leave":t.beforeLeave,enter:t.enter,leave:t.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"accordion__dropdown",attrs:{"aria-hidden":!t.visible}},[n("div",{staticClass:"accordion__list"},[t._t("default")],2)])])],1)},tt=[],et=n("5a57"),nt={name:"A17Accordion",mixins:[et["a"]],watch:{open:function(){this.visible!==this.open&&(this.visible=this.open)}},methods:{getMaxHeight:function(){return Math.min(250,this.$el.querySelector(".accordion__list").clientHeight+1)},beforeEnter:function(t){t.style.maxHeight="0px"},enter:function(t,e){t.style.maxHeight=this.getMaxHeight()+"px"},beforeLeave:function(t,e){t.style.maxHeight=this.getMaxHeight()+"px"},leave:function(t,e){t.style.maxHeight="0px"}}},it=nt,ot=(n("e005"),n("62c8"),Object(g["a"])(it,Q,tt,!1,null,"0dd10376",null)),rt=ot.exports,at={name:"A17Radioaccordion",components:{"a17-accordion":rt},mixins:[et["a"]],props:{value:{default:""},title:{default:""},name:{default:""},radios:{default:function(){return[]}}},data:function(){return{currentValue:this.value}},computed:{currentLabel:function(){var t=this.radios.filter(this.isSameValue);return t.length?t[0].label:""}},methods:{isSameValue:function(t){return t.value===this.currentValue},changeValue:function(t){this.currentValue=t,this.$emit("change",t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},st=at,ct=Object(g["a"])(st,X,Z,!1,null,null,null),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.currentLabel))]),n("a17-checkboxgroup",{attrs:{name:t.name,options:t.currentOptions,selected:t.currentValue},on:{change:t.changeValue}})],1)},dt=[],pt={name:"A17Reviewaccordion",components:{"a17-accordion":rt},mixins:[et["a"]],props:{value:{default:function(){return[]}},title:{type:String,default:""},name:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{currentOptions:this.options,currentValue:this.value}},computed:{currentLabel:function(){var t="Pending approval",e=this.currentValue[this.currentValue.length-1];return this.currentValue.length&&this.options.forEach((function(n){n.value===e&&(t=n.display)})),t}},methods:{changeValue:function(t){this.currentValue=t,this.$store.commit(a["m"].UPDATE_REVIEW_PROCESS,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},ft=pt,vt=Object(g["a"])(ft,ut,dt,!1,null,null,null),ht=vt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.currentLabel))]),n("a17-checkboxgroup",{attrs:{name:t.name,options:t.options,selected:t.currentValue,min:1},on:{change:t.changeValue}})],1)},mt=[],gt={name:"A17Checkboxaccordion",components:{"a17-accordion":rt},mixins:[et["a"]],props:{value:{default:function(){return[]}},title:{type:String,default:""},name:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{currentValue:this.value}},watch:{value:function(t){this.currentValue=t}},computed:{currentLabel:function(){return this.currentValue.length+" "+this.$trans("publisher.languages-published")}},methods:{changeValue:function(t){this.currentValue=t,this.$store.commit(a["g"].PUBLISH_LANG,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},_t=gt,wt=Object(g["a"])(_t,bt,mt,!1,null,null,null),yt=wt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default"),t._v(" "),n("span",{staticClass:"f--small f--note"},[t._v("("+t._s(t.revisions.length)+")")])],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t._v(t._s(t.$trans("publisher.last-edit"))+" "),n("timeago",{attrs:{"auto-update":1,datetime:new Date(t.revisions[0].datetime)}})],1),n("div",{staticClass:"revaccordion__scroller"},[n("ul",{staticClass:"revaccordion__list"},t._l(t.revisions,(function(e,i){return n("li",{key:e.id,staticClass:"revaccordion__item"},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.openPreview(e.id)}}},[n("span",{staticClass:"revaccordion__author"},[t._v(t._s(e.author))]),n("span",{staticClass:"revaccordion__datetime"},[0===i?n("span",{staticClass:"tag"},[t._v(t._s(t.$trans("publisher.current")))]):t._e(),t._v(" "+t._s(t._f("formatDate")(e.datetime)))])])])})),0)])])},kt=[],Pt={name:"A17Revisions",components:{"a17-accordion":rt},mixins:[et["a"]],props:{revisions:{default:function(){return[]}}},filters:k["a"],methods:{notifyOpen:function(t){this.$emit("open",t,this.$options.name)},openPreview:function(t){this.$root.$refs.preview&&this.$root.$refs.preview.open(parseInt(t))}}},Ct=Pt,Et=(n("6b9b"),Object(g["a"])(Ct,Ot,kt,!1,null,"042fcdcb",null)),jt=Et.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),n("div",{attrs:{slot:"accordion__value"},slot:"accordion__value"},[t.startDate?[t._v(" "+t._s(t._f("formatDateWithFormat")(t.startDate,t.dateDisplayFormat))+" ")]:[t._v(" "+t._s(t.defaultStartDate)+" ")]],2),n("div",{staticClass:"accordion__fields"},[n("a17-datepicker",{attrs:{name:"publish_date","place-holder":t.$trans("publisher.start-date"),time_24hr:t.date_24h,altFormat:t.dateFormat,initialValue:t.startDate,maxDate:t.endDate,enableTime:!0,allowInput:!0,staticMode:!0,clear:!0},on:{open:t.openStartCalendar,close:t.closeCalendar,input:t.updateStartDate}}),n("a17-datepicker",{attrs:{name:"end_date","place-holder":t.$trans("publisher.end-date"),time_24hr:t.date_24h,altFormat:t.dateFormat,initialValue:t.endDate,minDate:t.startDate,enableTime:!0,allowInput:!0,staticMode:!0,clear:!0},on:{open:t.openEndCalendar,close:t.closeCalendar,input:t.updateEndDate}})],1)])},St=[];function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt={name:"A17Pubaccordion",components:{"a17-accordion":rt},mixins:[et["a"]],props:{defaultStartDate:{type:String,default:function(){return this.$trans("publisher.immediate")}},defaultEndDate:{type:String,default:""},dateDisplayFormat:{type:String,default:"MMM, DD, YYYY, "+Object(M["b"])()},dateFormat:{type:String,default:null},date_24h:{type:Boolean,default:Object(M["c"])()}},filters:k["a"],computed:xt({},Object(o["c"])({startDate:function(t){return t.publication.startDate},endDate:function(t){return t.publication.endDate}})),methods:{updateStartDate:function(t){this.$store.commit(a["m"].UPDATE_PUBLISH_START_DATE,t)},updateEndDate:function(t){this.$store.commit(a["m"].UPDATE_PUBLISH_END_DATE,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)},openCalendar:function(){setTimeout((function(){var t=document.querySelectorAll(".accordion.s--open, .accordion.s--open .accordion__dropdown");t.forEach((function(t){t.style.overflow="visible"}))}),10)},openStartCalendar:function(){this.openCalendar()},openEndCalendar:function(){this.openCalendar()},closeCalendar:function(){var t=document.querySelectorAll(".accordion.s--open, .accordion.s--open .accordion__dropdown");t.forEach((function(t){t.style.overflow=""}))}}},Bt=Lt,At=Object(g["a"])(Bt,Dt,St,!1,null,null,null),It=At.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-accordion",{attrs:{open:t.open},on:{toggleVisibility:t.notifyOpen}},[n("span",{attrs:{slot:"accordion__title"},slot:"accordion__title"},[t._t("default")],2),n("div",{attrs:{slot:"accordion__value"},domProps:{innerHTML:t._s(t.currentLabel)},slot:"accordion__value"}),n("div",{staticClass:"accordion__fields"},[n("a17-select",{attrs:{name:"parent_id",options:t.options,selected:t.currentValue,size:"small"},on:{change:t.updateSelected}})],1)])},Rt=[],Mt=function(t,e){var n=[];function i(t){return Array(t+1).join(e)+" "}function o(t,e){t.forEach((function(t){var r={};if(r.value=t.id,t.edit&&(r.edit=t.edit),r.label=i(e)+t.name,n.push(r),t.children&&t.children.length){var a=e+1;o(t.children,a)}}))}return o(t,0),n};function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){Ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft={name:"A17Parents",components:{"a17-accordion":rt},mixins:[et["a"]],props:{value:{default:0},parents:{default:function(){return[]}}},computed:Nt({currentLabel:function(){var t=this.options.filter(this.isSameValue);return t.length?t[0].label:""},options:function(){var t=Mt(this.parents,"&nbsp;&nbsp;&nbsp;"),e={value:0,label:"(No parent)"};return t.unshift(e),t}},Object(o["c"])({currentValue:function(t){return t.parents.active}})),methods:{isSameValue:function(t){return t.value===this.currentValue},updateSelected:function(t){this.$store.commit(a["k"].UPDATE_PARENT,t)},notifyOpen:function(t){this.$emit("open",t,this.$options.name)}}},zt=Ft,Wt=(n("2774"),Object(g["a"])(zt,Ht,Rt,!1,null,"5a88e420",null)),Kt=Wt.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multibutton"},[n("a17-dropdown",{ref:"submitDown",attrs:{position:"bottom-right",width:"full",offset:0}},[t.isDisabled(t.options[0])?n("a17-button",{attrs:{type:"button",variant:"validate",disabled:!0}},[t._v(t._s(t.options[0].text))]):n("a17-button",{attrs:{type:t.type,name:t.options[0].name,variant:"validate"},on:{click:function(e){return t.buttonClicked(t.options[0].name)}}},[t._v(t._s(t.options[0].text))]),t.hasValidOptions?n("button",{staticClass:"multibutton__trigger",attrs:{type:"button"},on:{click:function(e){return t.$refs.submitDown.toggle()}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):t._e(),t.otherOptions.length?n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[n("ul",t._l(t.otherOptions,(function(e){return n("li",{key:e.name},[t.isDisabled(e)?n("button",{attrs:{type:"button",disabled:""}},[t._v(t._s(e.text))]):n("button",{attrs:{type:t.type,name:e.name},on:{click:function(n){return t.buttonClicked(e.name)}}},[t._v(t._s(e.text))])])})),0)]):t._e()],1)],1)},Gt=[],Yt={name:"A17Multibutton",props:{type:{default:"button"},message:{type:String,default:""},options:{default:function(){return[]}}},data:function(){return{}},computed:{otherOptions:function(){return this.options.length?this.options.slice(1):[]},hasValidOptions:function(){var t=this.options.filter((function(t){return!t.hasOwnProperty("disabled")||!1===t.disabled})),e=Boolean(t.length>0);return!e&&this.message&&this.$store.commit(a["j"].SET_NOTIF,{message:this.message,variant:"success"}),e}},methods:{isDisabled:function(t){return!!t.hasOwnProperty("disabled")&&!0===t.disabled},buttonClicked:function(t){this.$emit("button-clicked",t)}}},Jt=Yt,Xt=(n("b0c8"),Object(g["a"])(Jt,qt,Gt,!1,null,"40868c5c",null)),Zt=Xt.exports;function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(n),!0).forEach((function(e){ee(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ne={name:"A17Publisher",components:{"a17-switcher":J,"a17-radioaccordion":lt,"a17-checkboxaccordion":yt,"a17-reviewaccordion":ht,"a17-revaccordion":jt,"a17-parentaccordion":Kt,"a17-pubaccordion":It,"a17-multibutton":Zt},props:{showLanguages:{type:Boolean,default:!0},dateFormat:{type:String,default:null},dateDisplayFormat:{type:String,default:"MMM, DD, YYYY, "+Object(M["b"])()},date_24h:{type:Boolean,default:Object(M["c"])()}},data:function(){return{singleOpen:!0,openStates:{A17Reviewaccordion:!1,A17Radioaccordion:!1,A17Checkboxaccordion:!1,A17Revisions:!1,A17Pubaccordion:!1,A17Parents:!1}}},filters:k["a"],computed:te(te({reviewProcessCompleteValues:function(){var t=[];return this.reviewProcessComplete.length&&this.reviewProcessComplete.forEach((function(e){t.push(e.value)})),t},submitOptions:function(){return this.$store.getters.getSubmitOptions},publishedLanguagesValues:function(){var t=[];return this.publishedLanguages.length&&this.publishedLanguages.forEach((function(e){t.push(e.value)})),t}},Object(o["c"])({languages:function(t){return t.language.all},revisions:function(t){return t.revision.all},parentId:function(t){return t.parents.active},parents:function(t){return t.parents.all},published:function(t){return t.publication.published},publishSubmit:function(t){return t.publication.publishSubmit},textEnabled:function(t){return t.publication.publishedLabel},textDisabled:function(t){return t.publication.draftLabel},withPublicationToggle:function(t){return t.publication.withPublicationToggle},withPublicationTimeframe:function(t){return t.publication.withPublicationTimeframe},visibility:function(t){return t.publication.visibility},visibilityOptions:function(t){return t.publication.visibilityOptions},reviewProcess:function(t){return t.publication.reviewProcess},submitDisableMessage:function(t){return t.publication.submitDisableMessage}})),Object(o["b"])(["publishedLanguages","reviewProcessComplete"])),methods:{buttonClicked:function(t){this.$store.commit(a["m"].UPDATE_SAVE_TYPE,t)},openCloseAccordion:function(t,e){if(this.singleOpen)if(t)for(var n in this.openStates)this.openStates[n]=n===e;else this.openStates[e]=!1},openPreview:function(){this.$root.$refs.preview&&this.$root.$refs.preview.open(0)},updateVisibility:function(t){this.$store.commit(a["m"].UPDATE_PUBLISH_VISIBILITY,t)},openMoveToTrashModal:function(){this.$parent.$refs.moveToTrashModal.open()}}},ie=ne,oe=(n("e8f1"),Object(g["a"])(ie,H,R,!1,null,"6d7750c6",null)),re=oe.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.parents.length||t.hasUrl?n("div",{staticClass:"pagenav"},[t.parents.length?n("div",{staticClass:"pagenav__form"},[n("a17-vselect",{attrs:{name:"parents_sources",placeholder:t.placeholder,size:"large",searchable:!0,options:t.options},on:{change:t.gotoUrl}})],1):t._e(),t.hasUrl?n("nav",{staticClass:"pagenav__nav"},[t.previousUrl?n("a",{staticClass:"pagenav__btn",attrs:{href:t.previousUrl}},[t._v(" "+t._s(t.previousLabel))]):n("span",{staticClass:"pagenav__btn"},[t._v(" "+t._s(t.previousLabel))]),t.nextUrl?n("a",{staticClass:"pagenav__btn",attrs:{href:t.nextUrl}},[t._v(t._s(t.nextLabel)+" ")]):n("span",{staticClass:"pagenav__btn"},[t._v(t._s(t.nextLabel)+" ")])]):t._e()]):t._e()},se=[];function ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(n),!0).forEach((function(e){ue(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var de={name:"A17PageNav",props:{previousLabel:{type:String,default:"Previous page"},nextLabel:{type:String,default:"Next page"},previousUrl:{type:String,default:""},nextUrl:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{}},computed:le({hasUrl:function(){return this.previousUrl||this.nextUrl},options:function(){return Mt(this.parents,"")}},Object(o["c"])({parents:function(t){return t.parents.all}})),methods:{gotoUrl:function(t){t.edit&&(window.location.href=t.edit)}},beforeMount:function(){}},pe=de,fe=(n("ffdb"),Object(g["a"])(pe,ae,se,!1,null,"761dbeaa",null)),ve=fe.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("draggable",{staticClass:"content__container",attrs:{options:t.dragOptions},model:{value:t.blocks,callback:function(e){t.blocks=e},expression:"blocks"}},[n("transition-group",{attrs:{name:"draggable_list",tag:"div"}},t._l(t.blocks,(function(e,i){return n("div",{key:e.id,staticClass:"content__item"},[n("a17-block",{ref:"blockList",refInFor:!0,attrs:{block:e,index:i,opened:t.opened,closed:t.closed},on:{expand:t.setOpened}},[t._l(t.availableBlocks,(function(e){return[t.availableBlocks.length?n("button",{key:e.component,attrs:{slot:"dropdown-add",type:"button"},on:{click:function(n){return t.addBlock(e,i+1)}},slot:"dropdown-add"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:e.icon}}),t._v(" "+t._s(e.title))]):t._e()]})),n("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[t.opened?n("button",{attrs:{type:"button"},on:{click:function(e){return t.collapseAllBlocks()}}},[t._v(t._s(t.$trans("fields.block-editor.collapse-all","Collapse all")))]):n("button",{attrs:{type:"button"},on:{click:function(e){return t.expandAllBlocks()}}},[t._v(t._s(t.$trans("fields.block-editor.expand-all","Expand all")))]),t.editor?n("button",{attrs:{type:"button"},on:{click:function(e){return t.openEditor(i)}}},[t._v(t._s(t.$trans("fields.block-editor.open-in-editor","Open in editor")))]):t._e(),n("button",{attrs:{type:"button"},on:{click:function(e){return t.duplicateBlock(i)}}},[t._v(t._s(t.$trans("fields.block-editor.create-another","Create another")))]),n("button",{attrs:{type:"button"},on:{click:function(e){return t.deleteBlock(i)}}},[t._v(t._s(t.$trans("fields.block-editor.delete","Delete")))])]),t._l(t.blocks.length,(function(e){return n("button",{key:e,attrs:{slot:"dropdown-numbers",type:"button"},on:{click:function(n){return t.moveBlock(i,e-1)}},slot:"dropdown-numbers"},[t._v(t._s(e))])}))],2)],1)})),0)],1),n("div",{staticClass:"content__actions"},[t.availableBlocks.length?n("a17-dropdown",{ref:"blocksDropdown",attrs:{position:"top-center",arrow:!0,offset:10,maxHeight:430}},[n("a17-button",{attrs:{size:"small",variant:"action"},on:{click:function(e){return t.$refs.blocksDropdown.toggle()}}},[t._v(t._s(t.title))]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.availableBlocks,(function(e){return n("button",{key:e.component,attrs:{type:"button"},on:{click:function(n){return t.addBlock(e,-1)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"content__icon",attrs:{symbol:e.icon}}),t._v(t._s(e.title))])})),0)],1):t._e(),n("div",{staticClass:"content__secondaryActions"},[t.editor?n("a",{staticClass:"f--link f--link-underlined--o",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openEditor(-1)}}},[t._v(t._s(t.$trans("fields.block-editor.open-in-editor","Open in editor")))]):t._e()])],1)],1)},be=[],me=n("1980"),ge=n.n(me),_e=n("5420"),we=n("159c"),ye=n("ecec");function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){Pe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ce={name:"A17Content",components:{"a17-block":ye["default"],draggable:ge.a},mixins:[_e["a"],we["a"]],props:{title:{type:String,default:""}},data:function(){return{opened:!0,closed:!1,handle:".block__handle"}},computed:ke({blocks:{get:function(){return this.savedBlocks},set:function(t){this.$store.commit(a["d"].REORDER_BLOCKS,t)}}},Object(o["c"])({editor:function(t){return t.content.editor},savedBlocks:function(t){return t.content.blocks},availableBlocks:function(t){return t.content.available}})),methods:{setOpened:function(t){var e=this.$refs.blockList.every((function(t){return!t.visible}));e&&(this.opened=!1,this.closed=!0),t&&(this.opened=!0)},addDropdownId:function(t){return"addBlock".concat(t,"Dropdown")},toggleDropdown:function(t){var e=this.addDropdownId(t),n=this.$refs[e][0];n&&n.toggle()},moveBlock:function(t,e){t!==e&&this.$store.commit(a["d"].MOVE_BLOCK,{oldIndex:t,newIndex:e})},addBlock:function(t,e){this.opened=!0;var n={title:t.title,type:t.component,icon:t.icon,attributes:t.attributes};this.$store.commit(a["d"].ADD_BLOCK,{block:n,index:e})},duplicateBlock:function(t){this.opened=!0,this.$store.commit(a["d"].DUPLICATE_BLOCK,t)},deleteBlock:function(t){var e=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){e.$store.commit(a["d"].DELETE_BLOCK,t)})):this.$store.commit(a["d"].DELETE_BLOCK,t)},collapseAllBlocks:function(){this.opened=!1,this.closed=!0},expandAllBlocks:function(){this.opened=!0,this.closed=!1}},mounted:function(){var t=this;this.$nextTick((function(){t.savedBlocks.length>3&&t.collapseAllBlocks()}))}},Ee=Ce,je=(n("b62f"),Object(g["a"])(Ee,he,be,!1,null,"4165f148",null)),De=je.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("draggable",{staticClass:"content__content",attrs:{options:t.dragOptions},model:{value:t.blocks,callback:function(e){t.blocks=e},expression:"blocks"}},[n("transition-group",{attrs:{name:"draggable_list",tag:"div"}},t._l(t.blocks,(function(e,i){return n("div",{key:e.id,staticClass:"content__item"},[n("a17-block",{attrs:{block:e,index:i,size:t.blockSize,opened:t.opened},on:{open:t.setOpened}},[t.hasRemainingBlocks?n("a17-button",{attrs:{slot:"block-actions",variant:"icon","data-action":""},on:{click:function(e){return t.duplicateBlock(i)}},slot:"block-actions"},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]):t._e(),n("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[n("button",{attrs:{type:"button"},on:{click:function(e){return t.collapseAllBlocks()}}},[t._v("Collapse All")]),n("button",{attrs:{type:"button"},on:{click:function(e){return t.deleteBlock(i)}}},[t._v("Delete")]),t.hasRemainingBlocks?n("button",{attrs:{type:"button"},on:{click:function(e){return t.duplicateBlock(i)}}},[t._v("Duplicate")]):t._e()])],1)],1)})),0)],1),n("div",{staticClass:"content__trigger"},[t.hasRemainingBlocks&&t.blockType.trigger?n("a17-button",{class:t.triggerClass,attrs:{variant:t.triggerVariant,size:t.triggerSize},on:{click:function(e){return t.addBlock()}}},[t._v(t._s(t.blockType.trigger))]):t._e(),n("div",{staticClass:"content__note f--note f--small"},[t._t("default")],2)],1)],1)},$e=[];function xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(n),!0).forEach((function(e){Le(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Be={name:"A17Repeater",components:{"a17-block":ye["default"],draggable:ge.a},mixins:[_e["a"]],props:{type:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{opened:!0,handle:".block__handle"}},computed:Te({triggerVariant:function(){return this.inContentEditor?"aslink":"action"},triggerSize:function(){return this.inContentEditor?"small":""},triggerClass:function(){return this.inContentEditor?"content__button":""},blockSize:function(){return this.inContentEditor?"small":""},inContentEditor:function(){return"undefined"!==typeof this.$parent.repeaterName},hasRemainingBlocks:function(){return!this.blockType.hasOwnProperty("max")||this.blockType.max>this.blocks.length},blockType:function(){return this.availableBlocks[this.type]?this.availableBlocks[this.type]:{}},blocks:{get:function(){return this.savedBlocks.hasOwnProperty(this.name)&&this.savedBlocks[this.name]||[]},set:function(t){this.$store.commit(a["f"].REORDER_FORM_BLOCKS,{type:this.type,name:this.name,blocks:t})}}},Object(o["c"])({savedBlocks:function(t){return t.repeaters.repeaters},availableBlocks:function(t){return t.repeaters.availableRepeaters}})),methods:{setOpened:function(t){this.opened=t},addBlock:function(){this.opened=!0,this.$store.commit(a["f"].ADD_FORM_BLOCK,{type:this.type,name:this.name})},duplicateBlock:function(t){this.opened=!0,this.$store.commit(a["f"].DUPLICATE_FORM_BLOCK,{type:this.type,name:this.name,index:t})},deleteBlock:function(t){this.$store.commit(a["f"].DELETE_FORM_BLOCK,{type:this.type,name:this.name,index:t})},collapseAllBlocks:function(){this.opened=!1}},mounted:function(){var t=this;this.$nextTick((function(){t.savedBlocks.length>0&&t.collapseAllBlocks()}))}},Ae=Be,Ie=(n("af57"),Object(g["a"])(Ae,Se,$e,!1,null,"f570ad32",null)),He=Ie.exports,Re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-inputframe",{attrs:{error:t.error,note:t.note,locale:t.locale,label:t.label,name:t.name,required:t.required},on:{localize:t.updateLocale}},[n("div",{staticClass:"form__field",class:t.textfieldClasses},[n("input",{attrs:{type:"search",placeholder:t.placeholder,name:t.name,id:t.name,disabled:t.disabled,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete},domProps:{value:t.address},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}),t.showMap?n("div",{staticClass:"form__field--showMap"},[n("a",{attrs:{href:"#",type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleMap(e)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"location"}}),n("span",{domProps:{innerHTML:t._s(t.mapMessage)}})])]):t._e(),n("input",{attrs:{type:"hidden",name:t.name+"__lat"},domProps:{value:t.lat}}),n("input",{attrs:{type:"hidden",name:t.name+"__lng"},domProps:{value:t.lng}})]),t.showMap?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isMapOpen,expression:"isMapOpen"}],staticClass:"form__mapContainer"}):t._e()])},Me=[],Ve=n("63ea"),Ne=n.n(Ve),Ue=n("da6f"),Fe=n("67ff"),ze=n("7a77"),We={show:window.$trans("fields.map.show"),hide:window.$trans("fields.map.hide")},Ke="https://maps.googleapis.com/maps/api/js?libraries=places&key=",qe=window["TWILL"].hasOwnProperty("APIKEYS")&&window["TWILL"].APIKEYS.hasOwnProperty("googleMapApi")?window["TWILL"].APIKEYS.googleMapApi:null,Ge={name:"A17Locationfield",mixins:[Ue["a"],E["a"],j["a"],Fe["a"]],props:{type:{type:String,default:"text"},zoom:{type:Number,default:15},showMap:{type:Boolean,default:!0},openMap:{type:Boolean,default:!1},initialLat:{type:Number,default:null},initialLng:{type:Number,default:null}},data:function(){return{map:null,autocompletePlace:null,markers:[],address:"",beforeFocusAddress:"",lat:this.initialLat,lng:this.initialLng,focused:!1,isMapOpen:this.openMap,mapMessage:this.openMap?We.hide:We.show}},computed:{value:{get:function(){return{latlng:this.lat+"|"+this.lng,address:this.address}},set:function(t){var e=t.latlng.split("|");this.lat=parseFloat(e[0]),this.lng=parseFloat(e[e.length-1]),this.address=t.address}},textfieldClasses:function(){return{"s--focus":this.focused,"s--disabled":this.disabled}}},methods:{updateFromStore:function(t){if(!Ne()(t,this.value)&&(this.value=t,this.clearMarkers(),""===this.address&&(this.lat=this.initialLat,this.lng=this.initialLng),this.lat&&this.lng&&this.map)){var e={lat:this.lat,lng:this.lng};this.addMarker(e),this.map.panTo(e)}},onFocus:function(t){this.focused=!0,this.beforeFocusAddress=this.address,this.$emit("focus")},onBlur:function(t){this.focused=!1,""===this.address&&(this.clearMarkers(),this.lat=this.initialLat,this.lng=this.initialLng),this.beforeFocusAddress!==this.address&&this.saveIntoStore(),this.$emit("blur")},onInput:function(t){var e=t.target.value;this.address=e,this.$emit("change",e)},onPlaceChanged:function(){var t=this.autocompletePlace.getPlace();if(this.clearMarkers(),this.clearLatLng(),t.geometry){var e=t.geometry.location;this.address=t.formatted_address,this.setLatLng(e),this.map&&(this.addMarker(e),this.map.panTo(e),this.map.setZoom(this.zoom))}this.beforeFocusAddress=this.address,this.saveIntoStore()},clearMarkers:function(){for(var t=0;t<this.markers.length;t++)this.markers[t]&&this.markers[t].setMap(null);this.markers=[]},clearLatLng:function(){this.lat=0,this.lng=0},addMarker:function(t){var e=new google.maps.Marker({position:t,map:this.map});this.markers.push(e)},setLatLng:function(t){this.lat=t.lat(),this.lng=t.lng()},toggleMap:function(){this.isMapOpen=!this.isMapOpen,this.mapMessage=this.isMapOpen?We.hide:We.show,this.map||"undefined"===typeof google||this.$nextTick((function(){this.initMap()}))},initMap:function(){var t=this.lat+this.lng,e={zoom:t?this.zoom:1,center:new google.maps.LatLng(this.lat,this.lng),mapTypeControl:!1,panControl:!1,zoomControl:!1,streetViewControl:!1},n=document.createElement("div");n.className="form__map",this.$el.querySelector(".form__mapContainer").appendChild(n),this.map=new google.maps.Map(n,e),t&&this.addMarker(new google.maps.LatLng(this.lat,this.lng))},initGeocoder:function(){var t=this;if(this.autocompletePlace=new google.maps.places.Autocomplete(this.$el.querySelector('input[type="search"]')),google.maps.event.addListener(this.autocompletePlace,"place_changed",this.onPlaceChanged),""===this.address&&this.lat&&this.lng){var e=new google.maps.Geocoder,n={lat:this.lat,lng:this.lng};e.geocode({location:n},(function(e,n){"OK"===n?e[1]?t.address=e[1].formatted_address:console.error("Geocoding - No results found"):console.error("Geocoding - Geocoder failed due to: "+n)}))}},initGoogleApi:function(){this.initGeocoder(),this.showMap&&this.isMapOpen&&this.initMap()}},mounted:function(){var t=this;if("undefined"!==typeof google)this.initGoogleApi();else{var e="google-map-api-script",n=Ke+qe;Object(ze["a"])(e,n,"text/javascript").then((function(){t.initGoogleApi()}))}},beforeDestroy:function(){"undefined"!==typeof google&&google.maps.event.clearListeners(this.autocompletePlace,"place_changed",this.onPlaceChanged)}},Ye=Ge,Je=(n("3565"),Object(g["a"])(Ye,Re,Me,!1,null,"e145ff86",null)),Xe=Je.exports,Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.keepAlive?[n("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},[t._t("default")],2)]:[t.open?n("div",[t._t("default")],2):t._e()]],2)},Qe=[],tn=n("b8ce"),en=n.n(tn);function nn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(n),!0).forEach((function(e){rn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var an={name:"A17ConnectorField",props:{fieldName:{type:String,required:!0},requiredFieldValues:{default:""},inModal:{type:Boolean,default:!1},keepAlive:{type:Boolean,default:!1},isValueEqual:{type:Boolean,default:!0}},computed:on(on({storedValue:function(){return this.inModal?this.modalFieldValueByName(this.fieldName):this.fieldValueByName(this.fieldName)}},Object(o["b"])(["fieldValueByName","modalFieldValueByName"])),Object(o["c"])({fields:function(t){return t.form.fields},modalFields:function(t){return t.form.modalFields}})),data:function(){return{open:!1}},watch:{storedValue:function(t){this.toggleVisibility(t)}},methods:{toggleVisibility:function(t){var e=en()(t),n=en()(this.requiredFieldValues);Array.isArray(n)&&n.sort(),Array.isArray(e)&&e.sort(),this.isValueEqual?this.open=Ne()(e,n):this.open=!Ne()(e,n)}},mounted:function(){var t=this;this.$nextTick((function(){t.toggleVisibility(this.storedValue)}))}},sn=an,cn=Object(g["a"])(sn,Ze,Qe,!1,null,null,null),ln=cn.exports,un=n("f389"),dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overlay",class:t.overlayClasses},[n("div",{staticClass:"overlay__window"},[t.overlayTitle?n("header",{staticClass:"overlay__header"},[t._v(" "+t._s(t.overlayTitle)+" "),n("button",{staticClass:"overlay__close",attrs:{type:"button"},on:{click:t.hide}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}}),n("span",{staticClass:"overlay__closeLabel"},[t._v(t._s(t.$trans("overlay.close")))])])]):t._e(),t.active?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],staticClass:"overlay__content"},[t._t("default")],2):t._e()])])},pn=[],fn=n("0a8f");function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mn=document.documentElement,gn=fn["a"].overlay,_n=fn["a"].modal,wn={name:"A17Overlay",props:{title:{type:String,default:""},revisionTitle:{type:String,default:function(){return this.$trans("previewer.revision-history")}},forceClose:{type:Boolean,default:!1},forceLock:{type:Boolean,default:!1},mode:{type:String,default:""}},data:function(){return{active:!1,hidden:!0,locked:!1}},computed:hn({activeRevision:function(){return Object.keys(this.currentRevision).length},overlayTitle:function(){return this.activeRevision?this.revisionTitle:this.title},overlayClasses:function(){return{"overlay--active":this.active,"overlay--hidden":this.hidden}}},Object(o["c"])({currentRevision:function(t){return t.revision.active}})),methods:{open:function(t){this.active&&!this.hidden||(this.active=!0,this.hidden=!1,mn.classList.add(gn),window.addEventListener("keyup",this.keyPressed),this.$emit("open"))},mask:function(){mn.classList.remove(gn),window.removeEventListener("keyup",this.keyPressed),this.$emit("close")},hide:function(){this.active&&(this.locked||(this.forceClose?this.close():(this.hidden=!0,this.mask())))},close:function(t){this.active&&(this.locked||(this.active=!1,this.mask()))},keyPressed:function(t){if(27===t.which||27===t.keyCode){if(mn.classList.contains(_n))return;this.hide(),this.$emit("esc-key")}}},beforeDestroy:function(){this.$el.parentNode&&(this.active&&window.removeEventListener("keyup",this.keyPressed),this.$el.parentNode.removeChild(this.$el))}},yn=wn,On=(n("d5be"),Object(g["a"])(yn,dn,pn,!1,null,"b7b05f42",null)),kn=On.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-overlay",{ref:"overlay",attrs:{title:t.$trans("previewer.title")}},[t.revisions.length?n("div",{staticClass:"previewer",class:{"previewer--loading":t.loading}},[t.activeRevision?n("a17-button",{staticClass:"previewer__restore",attrs:{variant:"warning",size:"small"},on:{click:t.restoreRevision}},[t._v(t._s(t.$trans("previewer.restore")))]):t._e(),!t.activeRevision&&t.editor?n("a17-button",{staticClass:"previewer__restore",attrs:{variant:"editor",size:"small"},on:{click:t.openEditor}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"hide--xsmall",attrs:{symbol:"editor"}}),t._v(t._s(t.$trans("previewer.editor")))]):t._e(),n("div",{staticClass:"previewer__frame"},[n("div",{staticClass:"previewer__inner"},[n("div",{staticClass:"previewer__nav"},[n("div",{staticClass:"previewer__revisions"},[t.slipScreen?n("span",{staticClass:"tag tag--revision"},[t._v(t._s(t.$trans("previewer.past-revision")))]):t._e(),n("a17-dropdown",{ref:"previewRevisionsDropdown",attrs:{position:"bottom-left",maxWidth:400,maxHeight:300}},[n("a17-button",{staticClass:"previewer__trigger",on:{click:function(e){return t.$refs.previewRevisionsDropdown.toggle()}}},[t.activeRevision?[t._v(" "+t._s(t._f("formatDate")(t.currentRevision.datetime))+" ("+t._s(t.currentRevision.author)+") "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]:[t._v(" "+t._s(t.$trans("previewer.last-edit"))+" "),n("timeago",{attrs:{"auto-update":1,datetime:new Date(t.revisions[0].datetime)}}),t._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]],2),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.revisions,(function(e,i){return n("button",{key:e.id,staticClass:"previewerRevision",class:{"previewerRevision--active":t.currentRevision.id===e.id},attrs:{type:"button"},on:{click:function(n){return t.toggleRevision(e.id)}}},[n("span",{staticClass:"previewerRevision__author"},[t._v(t._s(e.author))]),n("span",{staticClass:"previewerRevision__datetime"},[0===i?n("span",{staticClass:"tag"},[t._v(t._s(t.$trans("previewer.current-revision")))]):t._e(),t._v(" "+t._s(t._f("formatDate")(e.datetime)))])])})),0)],1)],1),t.slipScreen?t._e():n("ul",{staticClass:"previewer__breakpoints"},t._l(t.breakpoints,(function(e){return n("li",{key:e.size,staticClass:"previewer__breakpoint",class:{"s--active":t.activeBreakpoint===e.size}},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.resizePreview(e.size)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:e.name}})])])})),0),t.activeRevision?n("div",{staticClass:"previewer__compare"},[t.slipScreen?n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.singleView(e)}}},[n("span",{staticClass:"previewer__compareLabel"},[t._v(t._s(t.$trans("previewer.single-view")))]),t._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"revision-single"}})]):n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.compareView(e)}}},[n("span",{staticClass:"previewer__compareLabel"},[t._v(t._s(t.$trans("previewer.compare-view")))]),t._v(" "),n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"revision-compare"}})])]):t._e()]),n("div",{staticClass:"previewer__content"},[n("div",{staticClass:"previewer__iframe"},[n("a17-iframe",{attrs:{content:t.activeRevision?t.activeContent:t.currentContent,size:t.activeBreakpoint,scrollPosition:t.scrollPosition},on:{scrollDoc:t.setIframeScroll}})],1),t.slipScreen?n("div",{staticClass:"previewer__iframe"},[n("div",{staticClass:"previewer__iframeInfos"},[n("span",{staticClass:"tag tag--revision"},[t._v(t._s(t.$trans("previewer.current-revision")))]),t._v(t._s(t.$trans("previewer.unsaved")))]),n("a17-iframe",{attrs:{content:t.currentContent,scrollPosition:t.scrollPosition},on:{scrollDoc:t.setIframeScroll}})],1):t._e()])])])],1):t._e()])},Cn=[],En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("iframe",{staticClass:"previewerframe",style:{width:t.size>0?t.size+"px":""},attrs:{srcdoc:t.content,frameborder:"0"},on:{load:t.loadPreview}})},jn=[],Dn={name:"A17previewerFrame",props:{size:{type:Number,default:0},content:{type:String,default:""},scrollPosition:{type:Number,default:0}},data:function(){return{currentScroll:this.scrollPosition}},watch:{scrollPosition:function(t){this.$el.contentWindow.scrollTo(0,t)}},methods:{loadPreview:function(t){for(var e=this,n=t.target,i=n.contentDocument.querySelectorAll("a:not(.sf-dump-toggle),button"),o=0;o<i.length;o++)i[o].setAttribute("disabled","disabled"),i[o].style.pointerEvents="none",i[o].onclick=function(){return!1};n.contentDocument.addEventListener("scroll",(function(t){var i=n.contentWindow.pageYOffset;i!==e.currentScroll&&(e.$emit("scrollDoc",i),e.currentScroll=i)})),this.$el.contentWindow.scrollTo(0,this.currentScroll)}}},Sn=Dn,$n=(n("a70b"),Object(g["a"])(Sn,En,jn,!1,null,"7b1f8f6c",null)),xn=$n.exports;function Tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(n),!0).forEach((function(e){Bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var An={name:"A17Previewer",components:{"a17-iframe":xn},data:function(){return{loadedCurrent:!1,slipScreen:!1,activeBreakpoint:1280,lastActiveBreakpoint:1280,scrollPosition:0,breakpoints:[{size:1280,name:"preview-desktop"},{size:1024,name:"preview-tablet-h"},{size:768,name:"preview-tablet-v"},{size:320,name:"preview-mobile"}]}},filters:k["a"],computed:Ln({activeRevision:function(){return Object.keys(this.currentRevision).length}},Object(o["c"])({editor:function(t){return t.content.editor},loading:function(t){return t.revision.loading},currentRevision:function(t){return t.revision.active},activeContent:function(t){return t.revision.activeContent},currentContent:function(t){return t.revision.currentContent},revisions:function(t){return t.revision.all},restoreRevisionUrl:function(t){return t.form.restoreUrl}})),methods:{open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this;function n(){e.$refs.overlay&&e.$refs.overlay.open(),e.singleView()}this.loadedCurrent=!1,this.activeBreakpoint=1280,this.lastActiveBreakpoint=1280,t?this.previewRevision(t,(function(){n()})):this.previewCurrent((function(){n()}))},close:function(){this.$refs.overlay.close()},openEditor:function(){var t=this.$root.$refs;t.preview&&t.preview.close(),t.editor&&t.editor.open()},restoreRevision:function(){window.location.href=this.restoreRevisionUrl+"?revisionId="+this.currentRevision.id},resizePreview:function(t){this.activeBreakpoint=parseInt(t),this.lastActiveBreakpoint=parseInt(t)},previewCurrent:function(t){this.$store.commit(a["n"].UPDATE_REV,0),this.loadCurrent(t)},loadCurrent:function(t){var e=this;this.loadedCurrent?t&&"function"===typeof t&&t():(this.loadedCurrent=!0,this.$store.dispatch(s["a"].GET_CURRENT).then((function(){t&&"function"===typeof t&&t()}),(function(t){e.$store.commit(a["f"].SET_FORM_ERRORS,t.response.data),e.$store.commit(a["j"].SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"})})))},toggleRevision:function(t){if(this.activeRevision&&this.currentRevision.id===t)return this.singleView(),void this.previewCurrent();this.previewRevision(t)},previewRevision:function(t,e){var n=this;this.$store.commit(a["n"].UPDATE_REV,t),this.$store.dispatch(s["a"].GET_REVISION).then((function(){e&&"function"===typeof e&&e()}),(function(t){n.$store.commit(a["j"].SET_NOTIF,{message:"Invalid revision.",variant:"error"})}))},compareView:function(){this.activeBreakpoint=0,this.slipScreen=!0,this.activeRevision&&this.loadCurrent()},singleView:function(){this.activeBreakpoint=this.lastActiveBreakpoint,this.slipScreen=!1},setIframeScroll:function(t){this.scrollPosition=t}}},In=An,Hn=(n("0bd3"),Object(g["a"])(In,Pn,Cn,!1,null,"617a3800",null)),Rn=Hn.exports,Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-overlay",{ref:"overlay",attrs:{title:t.$trans("editor.title")},on:{close:t.closeEditor,open:t.openEditor}},[n("div",{staticClass:"editor"},[t.revisions.length?n("a17-button",{staticClass:"editor__leave",attrs:{variant:"editor",size:"small"},on:{click:t.openPreview}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"hide--xsmall",attrs:{symbol:"preview"}}),t._v(t._s(t.$trans("fields.block-editor.preview","Preview")))]):t._e(),n("div",{staticClass:"editor__frame"},[n("div",{staticClass:"editor__inner"},[n("div",{ref:"sidebar",staticClass:"editor__sidebar",class:t.sidebarClass},[n("a17-editorsidebar",{on:{delete:t.deleteBlock,save:t.saveBlock,cancel:t.cancelBlock}},[t._v(t._s(t.$trans("fields.block-editor.add-content","Add content")))])],1),n("div",{staticClass:"editor__resizer",on:{mousedown:t.resize}},[n("span")]),n("div",{staticClass:"editor__preview",class:t.previewClass,style:t.previewStyle},[n("a17-editorpreview",{ref:"previews",on:{select:t.selectBlock,delete:t.deleteBlock,unselect:t.unselectBlock,add:t.addBlock}}),t.loading?n("a17-spinner",{attrs:{visible:!0}},[t._v(t._s(t.$trans("fields.block-editor.loading","Loading"))+"")]):t._e()],1)])])],1)])},Vn=[],Nn=n("66cb"),Un=n.n(Nn),Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editorSidebar"},[t._l(t.blocks,(function(e,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isBlockActive(e.id),expression:"isBlockActive(block.id)"}],key:e.id,staticClass:"editorSidebar__item"},[n("div",{staticClass:"editorSidebar__title"},[n("div",{staticClass:"editorSidebar__blockTitle"},[n("a17-dropdown",{ref:t.moveDropdown(i),refInFor:!0,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270}},[n("span",{staticClass:"editorSidebar__counter f--tiny",on:{click:function(e){return t.toggleDropdown(i)}}},[t._v(t._s(i+1))]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.blocks.length,(function(e){return n("button",{key:e,attrs:{type:"button"},on:{click:function(n){return t.moveBlock(i,e-1)}}},[t._v(t._s(e))])})),0)]),t._v(t._s(t.activeBlock.title)+" ")],1),n("span",[n("a",{staticClass:"f--small f--note f--underlined",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteBlock(i)}}},[t._v(t._s(t.$trans("editor.delete")))])])]),n("div",{staticClass:"editorSidebar__body"},[n("a17-inputframe",{attrs:{label:"",name:"block."+e.id}}),n(""+e.type,t._b({key:"`editor_${block.type}_${block.id}`",tag:"component",attrs:{name:t.componentName(e.id)}},"component",e.attributes,!1))],1)])})),t.hasBlockActive?[n("div",{staticClass:"editorSidebar__actions"},[n("a17-button",{attrs:{variant:"action"},on:{click:function(e){return t.saveBlock()}}},[t._v(t._s(t.$trans("editor.done")))]),n("a17-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.cancelBlock()}}},[t._v(t._s(t.$trans("editor.cancel")))])],1)]:[n("div",{staticClass:"editorSidebar__list"},[n("h4",{staticClass:"editorSidebar__title"},[t._t("default")],2),t.availableBlocks.length?n("draggable",{attrs:{options:{group:{name:"editorBlocks",pull:"clone",put:!1},handle:".editorSidebar__button"}},model:{value:t.availableBlocks,callback:function(e){t.availableBlocks=e},expression:"availableBlocks"}},t._l(t.availableBlocks,(function(e){return n("div",{key:e.component,staticClass:"editorSidebar__button",attrs:{"data-title":e.title,"data-icon":e.icon,"data-component":e.component}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:e.icon}}),t._v(t._s(e.title)+" ")])})),0):t._e()],1),n("div",{staticClass:"editorSidebar__actions"},[t.isSubmitDisabled(t.submitOptions[0])?n("a17-button",{attrs:{variant:"validate",disabled:!0}},[t._v(t._s(t.submitOptions[0].text))]):n("a17-button",{attrs:{name:t.submitOptions[0].name,variant:"validate"},on:{click:function(e){return t.saveForm(t.submitOptions[0].name)}}},[t._v(t._s(t.submitOptions[0].text))])],1)]],2)},zn=[];function Wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wn(Object(n),!0).forEach((function(e){qn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gn={name:"A17editorsidebar",components:{draggable:ge.a},mixins:[_e["a"]],data:function(){return{}},computed:Kn({hasBlockActive:function(){return Object.keys(this.activeBlock).length>0},submitOptions:function(){return this.$store.getters.getSubmitOptions}},Object(o["c"])({activeBlock:function(t){return t.content.active},availableBlocks:function(t){return t.content.available},blocks:function(t){return t.content.blocks}})),methods:{isSubmitDisabled:function(t){return!!t.hasOwnProperty("disabled")&&!0===t.disabled},toggleDropdown:function(t){if(this.blocks.length>1){var e=this.moveDropdown(t);this.$refs[e].length&&this.$refs[e][0].toggle()}},moveDropdown:function(t){return"move".concat(t,"Dropdown")},isBlockActive:function(t){return!!this.hasBlockActive&&t===this.activeBlock.id},componentName:function(t){return"blocks["+t+"]"},moveBlock:function(t,e){t!==e&&this.$store.commit(a["d"].MOVE_BLOCK,{oldIndex:t,newIndex:e})},saveBlock:function(){this.$emit("save")},cancelBlock:function(){this.$emit("cancel")},deleteBlock:function(t){this.$emit("delete",t)},saveForm:function(t){this.$store.commit(a["m"].UPDATE_SAVE_TYPE,t),this.$root.submitForm&&this.$root.submitForm()}},mounted:function(){}},Yn=Gn,Jn=(n("611f"),n("e431"),Object(g["a"])(Yn,Fn,zn,!1,null,"0f6c2e43",null)),Xn=Jn.exports,Zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editorPreview",attrs:{editorPreviewClass:t.editorPreviewClass},on:{mousedown:t.unselectBlock}},[t.blocks.length?t._e():n("div",{staticClass:"editorPreview__empty"},[n("b",[t._v("Drag and drop content from the left navigation")])]),n("draggable",{staticClass:"editorPreview__content",attrs:{options:{group:"editorBlocks",handle:t.handle}},on:{add:t.onAdd,update:t.onUpdate},model:{value:t.blocks,callback:function(e){t.blocks=e},expression:"blocks"}},t._l(t.blocks,(function(e,i){return n("div",{key:e.id,ref:e.id,refInFor:!0,staticClass:"editorPreview__item",class:{"editorPreview__item--active":t.isBlockActive(e.id),"editorPreview__item--hover":t.activeItem===i},on:{mousedown:function(t){t.stopPropagation()}}},[n("div",{staticClass:"editorPreview__frame"},[n("a17-editor-iframe",{attrs:{block:e},on:{loaded:t.resizeIframe}})],1),n("div",{staticClass:"editorPreview__protector editorPreview__dragger",on:{click:function(e){return e.preventDefault(),t.selectBlock(i)}}}),n("div",{staticClass:"editorPreview__header"},[n("a17-buttonbar",{attrs:{variant:"visible"}},[t.blocks.length>1?n("a17-dropdown",{ref:t.moveDropdown(i),refInFor:!0,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270},on:{open:function(e){t.activeItem=i},close:function(e){t.activeItem=-1}}},[n("button",{attrs:{type:"button"},on:{click:function(e){return t.toggleDropdown(i)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"drag"}})]),n("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.blocks.length,(function(e){return n("button",{key:e,attrs:{type:"button"},on:{click:function(n){return t.moveBlock(i,e-1)}}},[t._v(t._s(e))])})),0)]):t._e(),n("button",{attrs:{type:"button"},on:{click:function(e){return t.deleteBlock(i)}}},[n("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])],1)],1)])})),0)],1)},Qn=[],ti=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editorIframe"},[""===t.preview?n("div",{staticClass:"editorIframe__empty"},[t._v(" "+t._s(t.title)+" ")]):t._e(),n("iframe",{ref:"frame",attrs:{srcdoc:t.preview},on:{load:t.loadedPreview}})])},ei=[];function ni(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(n),!0).forEach((function(e){oi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ri={name:"A17editoriframe",props:{block:{type:Object,default:function(){return{}}}},computed:ii(ii({preview:function(){return this.previewsById(this.block.id)||""},title:function(){return this.block.title||""}},Object(o["b"])(["previewsById"])),Object(o["c"])({savedBlocks:function(t){return t.content.blocks}})),methods:{setIframeHeight:function(){var t=this;this.$refs.frame&&window.requestAnimationFrame((function(){t.$refs.frame.style.height=t.$refs.frame.contentWindow.document.body.scrollHeight+"px"}))},loadedPreview:function(t){this.$refs.frame&&this.$refs.frame.srcdoc&&(this.$emit("loaded",this.$refs.frame),this.setIframeHeight())},handleResize:function(){this.setIframeHeight()}},mounted:function(){window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}},ai=ri,si=(n("da0c"),Object(g["a"])(ai,ti,ei,!1,null,"2fa81c14",null)),ci=si.exports;function li(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?li(Object(n),!0).forEach((function(e){di(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function di(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pi={name:"A17editorpreview",components:{draggable:ge.a,"a17-editor-iframe":ci},mixins:[_e["a"]],data:function(){return{activeItem:-1,blocksLoaded:0,handle:".editorPreview__dragger"}},computed:ui({blocks:{get:function(){return this.savedBlocks},set:function(t){}},hasBlockActive:function(){return Object.keys(this.activeBlock).length},editorPreviewClass:function(){return{"editorPreview--loading":this.loading}}},Object(o["c"])({loading:function(t){return t.content.loading},activeBlock:function(t){return t.content.active},savedBlocks:function(t){return t.content.blocks}})),methods:{toggleDropdown:function(t){if(this.blocks.length>1){var e=this.moveDropdown(t);this.$refs[e].length&&this.$refs[e][0].toggle()}},moveDropdown:function(t){return"movePreview".concat(t,"Dropdown")},moveBlock:function(t,e){t!==e&&this.$store.commit(a["d"].MOVE_BLOCK,{oldIndex:t,newIndex:e})},onAdd:function(t){var e=t.item,n={};n.title=e.getAttribute("data-title"),n.component=e.getAttribute("data-component"),n.icon=e.getAttribute("data-icon"),this.addBlock(n,Math.max(0,t.newIndex))},onUpdate:function(t){this.$store.commit(a["d"].MOVE_BLOCK,{oldIndex:t.oldIndex,newIndex:t.newIndex})},isBlockActive:function(t){return!!this.hasBlockActive&&t===this.activeBlock.id},addBlock:function(t,e){var n={title:t.title,type:t.component,icon:t.icon,attributes:t.attributes};this.$store.commit(a["d"].ADD_BLOCK,{block:n,index:e}),this.$emit("add",e)},deleteBlock:function(t){this.$emit("delete",t)},selectBlock:function(t){this.$emit("select",t)},unselectBlock:function(){this.$emit("unselect")},resizeIframe:function(t){var e=t.contentWindow.document.body;e.style.overflow="hidden";var n=window.getComputedStyle(e),i=n.getPropertyValue("margin-top"),o=n.getPropertyValue("margin-bottom"),r=e.scrollHeight+parseInt(i)+parseInt(o);t.height=r+"px"},resizeAllIframes:function(){var t=this,e=this.$el.querySelectorAll("iframe");e.forEach((function(e){t.resizeIframe(e)}))},_resize:v()((function(){this.resizeAllIframes()}),200),init:function(){window.addEventListener("resize",this._resize)},dispose:function(){window.removeEventListener("resize",this._resize)}},mounted:function(){this.init()},beforeDestroy:function(){this.dispose()}},fi=pi,vi=(n("2f7f"),Object(g["a"])(fi,Zn,Qn,!1,null,"3082648e",null)),hi=vi.exports,bi=n("64e5"),mi=n("0644"),gi=n.n(mi);function _i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_i(Object(n),!0).forEach((function(e){yi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oi,ki=document.documentElement,Pi=fn["a"].editor,Ci={name:"A17Editor",components:{"a17-editorsidebar":Xn,"a17-editorpreview":hi,"a17-spinner":bi["a"]},props:{bgColor:{type:String,default:"#FFFFFF"}},data:function(){return{isWatching:!1,unSubscribe:function(){return null}}},computed:wi({blocks:{get:function(){return this.savedBlocks},set:function(t){this.$store.commit(a["d"].REORDER_BLOCKS,t)}},hasBlockActive:function(){return Object.keys(this.activeBlock).length>0},previewClass:function(){var t=Un()(this.bgColor);return{"editor__preview--dark":t.getBrightness()<180,"editor__preview--loading":this.loading}},sidebarClass:function(){return{"editor__sidebar--mobile":this.hasBlockActive}},previewStyle:function(){return{"background-color":this.bgColor}}},Object(o["c"])({loading:function(t){return t.content.loading},activeBlock:function(t){return t.content.active},savedBlocks:function(t){return t.content.blocks},availableBlocks:function(t){return t.content.available},revisions:function(t){return t.revision.all}})),watch:{loading:function(t){var e=this;t||e.$nextTick((function(){setTimeout((function(){e.scrollToActive()}),250)}))}},methods:{open:function(t){this.getAllPreviews(),t>=0&&(this.selectBlock(t),this.scrollToActive()),this.$refs.overlay.open()},close:function(t){this.$refs.overlay.close()},openEditor:function(){ki.classList.add(Pi)},closeEditor:function(){this.unselectBlock(),ki.classList.remove(Pi)},scrollToActive:function(){if(this.hasBlockActive){var t=this.$refs.previews.$refs[this.activeBlock.id];if(t){var e=t[0].offsetTop,n=this.$el.querySelector(".editorPreview__content");n.scrollTop=Math.max(0,e-20)}}},isBlockActive:function(t){return!!this.hasBlockActive&&t===this.activeBlock.id},openPreview:function(){this.$root.$refs.preview&&this.$root.$refs.preview.open()},resize:function(){var t=this;window.addEventListener("mousemove",t.resizeSidebar,!1),window.addEventListener("mouseup",t.stopResizeSidebar,!1)},resizeSidebar:function(t){var e=this.$refs.sidebar,n=window.innerWidth;e&&(e.style.width=(t.clientX-e.offsetLeft)/n*100+"%")},stopResizeSidebar:function(){var t=this;window.removeEventListener("mousemove",t.resizeSidebar,!1),window.removeEventListener("mouseup",t.stopResizeSidebar,!1),this.$refs.previews.resizeAllIframes()},saveBlock:function(){this.hasBlockActive&&this.getPreview(),this.unselectBlock()},addBlock:function(t){this.selectBlock(t),this.getPreview(t)},deleteBlock:function(t){var e=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){e.unselectBlock(),e.$store.commit(a["d"].DELETE_BLOCK,t)})):(this.unselectBlock(),this.$store.commit(a["d"].DELETE_BLOCK,t))},cancelBlock:function(){this.hasBlockActive&&(window["TWILL"].hasOwnProperty("PREVSTATE")&&this.$store.replaceState(window["TWILL"].PREVSTATE),this.getPreview()),this.unselectBlock()},getBlockId:function(t){return"undefined"===typeof this.blocks[t]?0:this.blocks[t].id},getAllPreviews:function(){this.$store.dispatch(s["a"].GET_ALL_PREVIEWS)},getPreview:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.$store.dispatch(s["a"].GET_PREVIEW,t)},selectBlock:function(t){var e=this,n=this.getBlockId(t);n&&(this.isBlockActive(n)?this.unselectBlock():(window["TWILL"].PREVSTATE=gi()(this.$store.state),this.$store.commit(a["d"].ACTIVATE_BLOCK,t),this.isWatching||(this.isWatching=!0,this.unSubscribe=this.$store.subscribe((function(t,n){a["l"].REFRESH_BLOCK_PREVIEW.includes(t.type)&&(a["l"].REFRESH_BLOCK_PREVIEW_ALL.includes(t.type)?e.getAllPreviews():e.getPreview())})))))},unselectBlock:function(){this.unSubscribe(),this.isWatching=!1,window["TWILL"].hasOwnProperty("PREVSTATE")&&delete window["TWILL"].PREVSTATE,this.hasBlockActive&&this.$store.commit(a["d"].ACTIVATE_BLOCK,-1)}},mounted:function(){}},Ei=Ci,ji=(n("9881"),Object(g["a"])(Ei,Mn,Vn,!1,null,"cc4b6c2e",null)),Di=ji.exports,Si=n("2e01"),$i=n("54d3"),xi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a17-modal",{ref:"modal",staticClass:"modal--form",attrs:{title:t.modalTitle,forceClose:!0}},[n("form",{attrs:{action:t.formCreate},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t._t("default"),n("a17-modal-validation",{attrs:{"is-disable":!0}})],2)])},Ti=[],Li={name:"A17ModalAdd",props:{name:{type:String,default:""},modalTitle:{type:String,default:"Add new"},formCreate:{type:String,default:"#"}},components:{"a17-modal-validation":C["a"]},methods:{open:function(){this.$refs.modal&&this.$refs.modal.open()},submit:function(t){var e=this;this.$store.commit(a["f"].UPDATE_FORM_LOADING,!0);var n=document.activeElement.name;this.$nextTick((function(){this.$store.dispatch(s["a"].CREATE_FORM_IN_MODAL,{name:this.name,endpoint:this.formCreate,method:"post"}).then((function(){e.$refs.modal&&e.$refs.modal.close(),e.$nextTick((function(){e.$store.commit(a["j"].SET_NOTIF,{message:"Your content has been added",variant:"success"}),"create-another"===n&&e.$refs.modal&&e.$refs.modal.open()}))}),(function(t){e.$store.commit(a["j"].SET_NOTIF,{message:"Your content can not be added, please retry",variant:"error"})}))}))}}},Bi=Li,Ai=Object(g["a"])(Bi,xi,Ti,!1,null,null,null),Ii=Ai.exports,Hi=n("ce72");function Ri(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mi,Vi,Ni={withPublicationToggle:window["TWILL"].STORE.publication.withPublicationToggle||!1,published:window["TWILL"].STORE.publication.published||!1,publishSubmit:window["TWILL"].STORE.publication.published||!window["TWILL"].STORE.publication.withPublicationToggle?"update":"live",publishedLabel:window["TWILL"].STORE.publication.publishedLabel||"Live",draftLabel:window["TWILL"].STORE.publication.draftLabel||"Draft",withPublicationTimeframe:window["TWILL"].STORE.publication.withPublicationTimeframe||!1,startDate:window["TWILL"].STORE.publication.startDate||null,endDate:window["TWILL"].STORE.publication.endDate||null,visibility:window["TWILL"].STORE.publication.visibility||!1,reviewProcess:window["TWILL"].STORE.publication.reviewProcess||[],createWithoutModal:window["TWILL"].STORE.publication.createWithoutModal||!1,saveType:void 0,visibilityOptions:[{value:"public",label:"Public"},{value:"private",label:"Private"}],submitDisableMessage:window["TWILL"].STORE.publication.submitDisableMessage||"",submitOptions:window["TWILL"].STORE.publication.submitOptions||{draft:[{name:"save",text:window.$trans("publisher.save","Save as draft"),disabled:!1},{name:"save-close",text:window.$trans("publisher.save-close","Save as draft and close"),disabled:!1},{name:"save-new",text:window.$trans("publisher.save-new","Save as draft and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}],live:[{name:"publish",text:window.$trans("publisher.publish","Publish"),disabled:!1},{name:"publish-close",text:window.$trans("publisher.publish-close","Publish and close"),disabled:!1},{name:"publish-new",text:window.$trans("publisher.publish-new","Publish and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}],update:[{name:"update",text:window.$trans("publisher.update","Update"),disabled:!1},{name:"update-close",text:window.$trans("publisher.update-close","Update and close"),disabled:!1},{name:"update-new",text:window.$trans("publisher.update-new","Update and create new"),disabled:!1},{name:"cancel",text:window.$trans("publisher.cancel","Cancel"),disabled:!1}]}},Ui={reviewProcessComplete:function(t){return t.reviewProcess.filter((function(t){return t.checked}))},getSubmitOptions:function(t){return t.createWithoutModal?t.submitOptions.draft:t.published||!t.withPublicationToggle?t.submitOptions[t.publishSubmit]:t.submitOptions.draft},isEnabledSubmitOption:function(t,e){return function(t){var n=!0,i={},o=e.getSubmitOptions.filter((function(e){return e.name===t}));return o.length&&(i=o[0]),i.hasOwnProperty("disabled")&&(n=!i.disabled),n}},getSaveType:function(t,e){return t.saveType||e.getSubmitOptions[0].name}},Fi=(Oi={},Ri(Oi,a["m"].UPDATE_PUBLISH_START_DATE,(function(t,e){t.startDate=e})),Ri(Oi,a["m"].UPDATE_PUBLISH_END_DATE,(function(t,e){t.endDate=e})),Ri(Oi,a["m"].UPDATE_PUBLISH_STATE,(function(t,e){t.published=e})),Ri(Oi,a["m"].UPDATE_PUBLISH_SUBMIT,(function(t){t.publishSubmit=t.published||!t.withPublicationToggle?"update":"live"})),Ri(Oi,a["m"].UPDATE_PUBLISH_VISIBILITY,(function(t,e){t.visibility=e})),Ri(Oi,a["m"].UPDATE_REVIEW_PROCESS,(function(t,e){var n="",i=-1;e.length&&(n=e[e.length-1],t.reviewProcess.forEach((function(t,e){t.value===n&&(i=e)}))),t.reviewProcess.forEach((function(t,e){t.checked=e<=i,t.disabled=!(e===i||e===i+1)}))})),Ri(Oi,a["m"].UPDATE_SAVE_TYPE,(function(t,e){t.saveType=e})),Oi),zi={state:Ni,getters:Ui,mutations:Fi},Wi=n("bc3a"),Ki=n.n(Wi),qi=n("727d"),Gi={getBlockPreview:function(t,e,n,i){Ki.a.post(t,e).then((function(t){n&&"function"===typeof n&&n(t.data)}),(function(t){var e={message:"Block preview request error.",value:t};Object(qi["a"])("CONTENT",e),i&&"function"===typeof i&&i(t)}))}},Yi=n("9170");function Ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xi={loading:!1,editor:window["TWILL"].STORE.form.editor||!1,available:window["TWILL"].STORE.form.content||{},blocks:window["TWILL"].STORE.form.blocks||[],previews:window["TWILL"].STORE.form.previews||{},active:{}},Zi={previewsById:function(t){return function(e){return t.previews[e]?t.previews[e]:""}}};function Qi(){return Date.now()}var to=(Mi={},Ji(Mi,a["d"].ADD_BLOCK,(function(t,e){var n=e.block;n.id=Qi(),e.index>-1?t.blocks.splice(e.index,0,n):t.blocks.push(n)})),Ji(Mi,a["d"].MOVE_BLOCK,(function(t,e){if(e.newIndex>=t.blocks.length){var n=e.newIndex-t.blocks.length;while(1+n--)t.blocks.push(void 0)}t.blocks.splice(e.newIndex,0,t.blocks.splice(e.oldIndex,1)[0])})),Ji(Mi,a["d"].DELETE_BLOCK,(function(t,e){var n=t.blocks[e].id;n&&i["a"].delete(t.previews,n),t.blocks.splice(e,1)})),Ji(Mi,a["d"].DUPLICATE_BLOCK,(function(t,e){var n=Object.assign({},t.blocks[e]);n.id=Qi(),t.blocks.splice(e+1,0,n)})),Ji(Mi,a["d"].REORDER_BLOCKS,(function(t,e){t.blocks=e})),Ji(Mi,a["d"].ACTIVATE_BLOCK,(function(t,e){t.blocks[e]?t.active=t.blocks[e]:t.active={}})),Ji(Mi,a["d"].ADD_BLOCK_PREVIEW,(function(t,e){i["a"].set(t.previews,e.id,e.html)})),Ji(Mi,a["d"].UPDATE_PREVIEW_LOADING,(function(t,e){t.loading=!t.loading})),Mi);function eo(t,e,n,i){if(t.hasOwnProperty("id")){var o=Object(Yi["a"])(t,n);n.language.all.length>1&&(o.activeLanguage=n.language.active.value),Object(Yi["e"])(o)?(e(a["d"].ADD_BLOCK_PREVIEW,{id:t.id,html:""}),i&&"function"===typeof i&&i()):Gi.getBlockPreview(n.form.blockPreviewUrl,o,(function(n){e(a["d"].ADD_BLOCK_PREVIEW,{id:t.id,html:n}),i&&"function"===typeof i&&i()}),(function(t){}))}}var no,io,oo=(Vi={},Ji(Vi,s["a"].GET_PREVIEW,(function(t){var e=t.commit,n=t.state,i=t.rootState,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=o>=0?n.blocks[o]:{};n.active.hasOwnProperty("id")&&-1===o&&(r=n.active),eo(r,e,i)})),Ji(Vi,s["a"].GET_ALL_PREVIEWS,(function(t){var e=t.commit,n=t.state,i=t.rootState;if(n.blocks.length&&!n.loading){e(a["d"].UPDATE_PREVIEW_LOADING,!0);var o=0;n.blocks.forEach((function(t){eo(t,e,i,(function(){o++,o===n.blocks.length&&e(a["d"].UPDATE_PREVIEW_LOADING,!0)}))}))}})),Vi),ro={state:Xi,getters:Zi,mutations:to,actions:oo},ao=n("c5ec"),so={getRevisionContent:function(t,e,n,i){Ki.a.put(t,e).then((function(t){n&&"function"===typeof n&&n(t.data)}),(function(t){var e={message:"Preview request error.",value:t};Object(qi["a"])("REVISION",e),i&&"function"===typeof i&&i(t)}))}};function co(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lo,uo={loading:!1,active:{},activeContent:"",currentContent:"",all:window["TWILL"].STORE.revisions||[]},po={},fo=(no={},co(no,a["n"].LOADING_REV,(function(t){t.loading=!0})),co(no,a["n"].UPDATE_REV,(function(t,e){function n(t){return t.id===e}var i=t.all.findIndex(n);t.active=-1!==i?t.all[i]:{}})),co(no,a["n"].UPDATE_REV_CONTENT,(function(t,e){t.loading=!1,t.activeContent=e})),co(no,a["n"].UPDATE_REV_CURRENT_CONTENT,(function(t,e){t.loading=!1,t.currentContent=e})),co(no,a["n"].UPDATE_REV_ALL,(function(t,e){t.all=e})),no),vo=(io={},co(io,s["a"].GET_CURRENT,(function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){e(a["n"].LOADING_REV);var o=Object(Yi["b"])(n);n.language.all.length>1&&(o.activeLanguage=n.language.active.value),so.getRevisionContent(n.form.previewUrl,o,(function(n){e(a["n"].UPDATE_REV_CURRENT_CONTENT,n),t()}),(function(t){i(t)}))}))})),co(io,s["a"].GET_REVISION,(function(t){var e=t.commit,n=t.state,i=t.rootState;return new Promise((function(t,o){e(a["n"].LOADING_REV);var r=0;r=0===Object.keys(n.active).length?n.all[0].id:n.active.id;var s={revisionId:r};i.language.all.length>1&&(s.activeLanguage=i.language.active.value),so.getRevisionContent(i.form.previewUrl,s,(function(n){e(a["n"].UPDATE_REV_CONTENT,n),t()}),(function(t){o(t)}))}))})),io),ho={state:uo,getters:po,actions:vo,mutations:fo},bo=n("38c2");function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var go={repeaters:window["TWILL"].STORE.form.repeaters||{},availableRepeaters:window["TWILL"].STORE.form.availableRepeaters||{}},_o={};function wo(){return Date.now()}var yo=(lo={},mo(lo,a["f"].ADD_FORM_BLOCK,(function(t,e){var n=e.name,i=e.type,o={},r=t.availableRepeaters[i],a=!t.repeaters[n];if(r)if(o.id=wo(),o.type=r.component,o.title=r.title,a){var s={};s[n]=[],s[n].push(o),t.repeaters=Object.assign({},t.repeaters,s)}else t.repeaters[n].push(o)})),mo(lo,a["f"].DELETE_FORM_BLOCK,(function(t,e){t.repeaters[e.name].splice(e.index,1)})),mo(lo,a["f"].DUPLICATE_FORM_BLOCK,(function(t,e){var n=Object.assign({},t.repeaters[e.name][e.index]);n.id=wo(),t.repeaters[e.name].splice(e.index+1,0,n)})),mo(lo,a["f"].REORDER_FORM_BLOCKS,(function(t,e){var n={};n[e.name]=e.blocks,t.repeaters=Object.assign({},t.repeaters,n)})),lo),Oo={state:go,getters:_o,mutations:yo};function ko(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Po={active:window["TWILL"].STORE.parentId||0,all:window["TWILL"].STORE.parents||[]},Co={},Eo=ko({},a["k"].UPDATE_PARENT,(function(t,e){t.active=e||0})),jo={state:Po,getters:Co,mutations:Eo},Do=n("f451"),So=n("4868"),$o=n("f0f8");function xo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xo(Object(n),!0).forEach((function(e){Lo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i["a"].use(Si["a"]),i["a"].use($i["a"]),r["a"].registerModule("form",Hi["a"]),r["a"].registerModule("publication",zi),r["a"].registerModule("content",ro),r["a"].registerModule("language",ao["a"]),r["a"].registerModule("revision",ho),r["a"].registerModule("browser",bo["a"]),r["a"].registerModule("repeaters",Oo),r["a"].registerModule("parents",jo),r["a"].registerModule("attributes",Do["a"]),i["a"].component("a17-fieldset",I["a"]),i["a"].component("a17-publisher",re),i["a"].component("a17-title-editor",B),i["a"].component("a17-content",De),i["a"].component("a17-page-nav",ve),i["a"].component("a17-langswitcher",A["a"]),i["a"].component("a17-sticky-nav",w),i["a"].component("a17-spinner",bi["a"]),i["a"].component("a17-repeater",He),i["a"].component("a17-browser",un["a"]),i["a"].component("a17-connectorfield",ln),i["a"].component("a17-locationfield",Xe),i["a"].component("a17-overlay",kn),i["a"].component("a17-previewer",Rn),i["a"].component("a17-editor",Di),i["a"].component("a17-modal-add",Ii);var Bo=n("9748");Bo.keys().map((function(t){var e=t.replace(/customs\//,""),n=e.match(/\w+/)[0].replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();if("block"!==n)return i["a"].component("a17-"+n,Bo(t).default)})),"undefined"!==typeof window["TWILL"].TWILL_BLOCKS_COMPONENTS&&window["TWILL"].TWILL_BLOCKS_COMPONENTS.map((function(t){return i["a"].component("a17-block-"+t,{template:"#a17-block-"+t,mixins:[$o["a"]]})}));var Ao=n("1591");Ao.keys().map((function(t){var e=t.match(/\w+/)[0].replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();return i["a"].component("a17-"+e,Ao(t).default)})),window["TWILL"].vm=window.vm=new i["a"]({store:r["a"],el:"#app",mixins:[So["a"],we["a"]],data:function(){return{unSubscribe:function(){return null},isFormUpdated:!1}},computed:To(To({},Object(o["c"])({loading:function(t){return t.form.loading},editor:function(t){return t.content.editor},isCustom:function(t){return t.form.isCustom}})),Object(o["b"])(["getSaveType","isEnabledSubmitOption"])),methods:{submitForm:function(t){var e=this;this.loading||(this.isFormUpdated=!1,this.$store.commit(a["f"].UPDATE_FORM_LOADING,!0),this.unSubscribe(),this.$nextTick((function(){var t=e.getSaveType||document.activeElement.name;e.isEnabledSubmitOption(t)?e.$store.dispatch(s["a"].SAVE_FORM,t).then((function(){e.mutationsSubscribe()})):(e.$store.commit(a["f"].UPDATE_FORM_LOADING,!1),e.mutationsSubscribe())})))},confirmExit:function(t){if(this.isFormUpdated&&!this.isCustom)return"message";void 0!==window.event?window.event.cancelBubble=!0:t.cancelBubble=!0},mutationsSubscribe:function(){var t=this;this.unSubscribe=this.$store.subscribe((function(e,n){c["a"].includes(e.type)&&(t.isFormUpdated=!0,t.unSubscribe())}))}},mounted:function(){var t=this;this.$nextTick((function(){window.onbeforeunload=t.confirmExit,t.mutationsSubscribe()}))},beforeDestroy:function(){this.unSubscribe()},created:function(){Object(u["a"])()}}),document.addEventListener("DOMContentLoaded",l["a"])},faa7:function(t,e,n){},fdff:function(t,e,n){},ffdb:function(t,e,n){"use strict";var i=n("2741"),o=n.n(i);o.a}});